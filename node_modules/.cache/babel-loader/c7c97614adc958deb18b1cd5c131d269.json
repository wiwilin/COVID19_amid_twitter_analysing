{"ast":null,"code":"import _toConsumableArray from\"E:\\\\github\\\\covid\\\\COVID19_amid_twitter_analysing\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/toConsumableArray\";import _classCallCheck from\"E:\\\\github\\\\covid\\\\COVID19_amid_twitter_analysing\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/classCallCheck\";import _createClass from\"E:\\\\github\\\\covid\\\\COVID19_amid_twitter_analysing\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/createClass\";import _assertThisInitialized from\"E:\\\\github\\\\covid\\\\COVID19_amid_twitter_analysing\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/assertThisInitialized\";import _inherits from\"E:\\\\github\\\\covid\\\\COVID19_amid_twitter_analysing\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/inherits\";import _possibleConstructorReturn from\"E:\\\\github\\\\covid\\\\COVID19_amid_twitter_analysing\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/possibleConstructorReturn\";import _getPrototypeOf from\"E:\\\\github\\\\covid\\\\COVID19_amid_twitter_analysing\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/getPrototypeOf\";function _createSuper(Derived){function isNativeReflectConstruct(){if(typeof Reflect===\"undefined\"||!Reflect.construct)return false;if(Reflect.construct.sham)return false;if(typeof Proxy===\"function\")return true;try{Date.prototype.toString.call(Reflect.construct(Date,[],function(){}));return true;}catch(e){return false;}}return function(){var Super=_getPrototypeOf(Derived),result;if(isNativeReflectConstruct()){var NewTarget=_getPrototypeOf(this).constructor;result=Reflect.construct(Super,arguments,NewTarget);}else{result=Super.apply(this,arguments);}return _possibleConstructorReturn(this,result);};}import React,{Component,useState}from'react';import ReactDOM from\"react-dom\";import ReactDOMServer from'react-dom/server';import{Paper,Button}from'@material-ui/core';import MuiAlert from'@material-ui/lab/Alert';import Snackbar from'@material-ui/core/Snackbar';import{Checkbox}from\"@material-ui/core\";import'chart.js';import MarkerClusterer from'node-js-marker-clusterer';import Colorlegend from\"./colorlegend\";import'../App.css';import{stateCaseDate,suburbCaseDate,searchSuburb,searchState,searchState2}from\"../modules/scale\";import{colorOnConfirmed}from'../methods/defineColor';import{dayFromStr,monthFromStr,dayFromValue,strFromDate}from'../methods/DateTransfer';import clsx from'clsx';import ExpansionPanel from'@material-ui/core/ExpansionPanel';import ExpansionPanelDetails from'@material-ui/core/ExpansionPanelDetails';import ExpansionPanelSummary from'@material-ui/core/ExpansionPanelSummary';import ExpansionPanelActions from'@material-ui/core/ExpansionPanelActions';import ExpandMoreIcon from'@material-ui/icons/ExpandMore';import Divider from'@material-ui/core/Divider';import Piechart from'./piechart';import IconButton from'@material-ui/core/IconButton';import MenuIcon from'@material-ui/icons/Menu';import SearchIcon from'@material-ui/icons/Search';import DirectionsIcon from'@material-ui/icons/Directions';import InputBase from'@material-ui/core/InputBase';import mapStyles from'../resources/mapstyle.json';import InnerMap from'./innermap';import*as location from'./location';import hospital_marker from'../resources/hospital_marker.png';import school_marker from'../resources/school_marker.png';import toiletpaper_marker from'../resources/toiletpaper_marker.png';import discrimination_marker from'../resources/discrimination_marker.png';import{searchState3,transState}from'./scale';import{withStyles,makeStyles}from'@material-ui/core/styles';import Slider from'@material-ui/core/Slider';import Typography from'@material-ui/core/Typography';import{get}from\"echarts/src/component/toolbox/featureManager\";import Geocode from\"react-geocode\";var styles=function styles(theme){return{map:{width:'100%',height:'100%'},mapContainer:{width:\"100%\",height:\"900px\",boxShadow:\"0 2px 8px 0 #d7d7d7\"},searchPanel:{position:'fixed',top:'22%',left:'82%'},heading:{fontSize:theme.typography.pxToRem(15)},secondaryHeading:{fontSize:theme.typography.pxToRem(15),color:theme.palette.text.secondary},icon:{verticalAlign:'bottom',height:20,width:20},details:{alignItems:'center'},column:{flexBasis:'50.00%'},helper:{borderLeft:\"2px solid \".concat(theme.palette.divider),padding:theme.spacing(1,2)},link:{color:theme.palette.primary.main,textDecoration:'none','&:hover':{textDecoration:'underline'}},input:{marginLeft:theme.spacing(1),flex:1},iconButton:{padding:10},divider:{height:28,margin:4}};};//1.20 人传人确定 1.23 武汉封城 1.31 global emergency declared 2.1澳洲禁止中国 3.7 toilet paper 3.11 europe new epiccentre\n//3.15 aus 14-day qarantine for oversea returners 3.20 australia lockdown 3.23 aus cafes shutdown  3.30 victoria stage 3\n//5.13 stage 3 eased\nvar keyDates=[{value:19,info:\"human-to-human transmission confirmed\"},{value:22,info:\"Wuhan lockdown started\"},{value:30,info:\"global emergency declared\"},{value:31,info:\"travel ban issued for Chinese nationals\"},{value:66,info:\"toilet paper crisis in Australia\"},{value:70,info:\"Europe became new epicentre\"},{value:74,info:\"14-day quarantine needed for returners from overseas\"},{value:79,info:\"Australia closed its borders\"},{value:82,info:\"cafes shutdown\"},{value:133,info:\"stage 3 restrictions in place in Victoria\"}];var marks=[{value:0,label:'01/01'},{value:28,label:'29/01'},{value:59,label:'29/02'},{value:88,label:'29/03'},{value:121,label:'01/05'},{value:133,label:'13/05'}];var AirbnbSlider=withStyles({root:{color:'primary',height:8},thumb:{height:27,width:27,backgroundColor:'#fff',border:'1px solid currentColor',marginTop:-12,marginLeft:-13,boxShadow:'#ebebeb 0px 2px 2px','&:focus, &:hover, &$active':{boxShadow:'#ccc 0px 2px 2px 1px'},'& .bar':{// display: inline-block !important;\nheight:9,width:1,backgroundColor:'currentColor',marginLeft:1,marginRight:1}},active:{},track:{height:8//borderRadius: 4,\n},rail:{height:8,borderRadius:4},markLabel:{color:'grey'},markLabelActive:{color:'#fff'},valueLabel:{left:'calc(-50% + 4px)'}})(Slider);function valuetext(value){return\"Date: \".concat(value);}function AirbnbThumbComponent(props){return(/*#__PURE__*/React.createElement(\"span\",props,/*#__PURE__*/React.createElement(\"span\",{className:\"bar\"}),/*#__PURE__*/React.createElement(\"span\",{className:\"bar\"})));}function Alert(props){return(/*#__PURE__*/React.createElement(MuiAlert,Object.assign({elevation:6,variant:\"filled\"},props)));}var MapContainer=/*#__PURE__*/function(_Component){_inherits(MapContainer,_Component);var _super=_createSuper(MapContainer);function MapContainer(props){var _this;_classCallCheck(this,MapContainer);_this=_super.call(this,props);_this.handleLevel=function(event){_this.setState({level:event.target.value});};_this.handleSearchText=function(event){_this.setState({searchText:event.target.value});};_this.expandPanel=function(){_this.setState({expand:true});};_this.focusSearchArea=function(){var text=_this.state.searchText;_this.setState({expand:false});Geocode.fromAddress(text).then(function(response){var _response$results$0$g=response.results[0].geometry.location,lat=_response$results$0$g.lat,lng=_response$results$0$g.lng;_this.state.map.setCenter({lat:lat,lng:lng});console.log(\"lat lng\"+lat+\" \"+lng);},function(error){console.error(error);});};_this.onHoverSearch=function(){_this.setState({opacity:'100%'});};_this.onLeaveSearch=function(){_this.setState({opacity:'20%'});_this.setState({expand:false});};_this.handleClick=function(){_this.setState({setOpen:true});};_this.handleClose=function(event,reason){if(reason==='clickaway'){return;}_this.setState({setOpen:false});_this.setState({showKeyDate:false});_this.setState({lifted:false});};_this.DateChange=function(event,value){_this.setState({dateInfo:{month:Math.floor(value/30)+1,week:Math.floor(value/7)+1,day:dayFromValue(value),str:strFromDate(Math.floor(value/30)+1,dayFromValue(value))}});for(var day=0;day<keyDates.length;day++){if(keyDates[day].value===value){_this.handleClick();_this.setState({showKeyDate:true,keyDateText:keyDates[day].info});if(value===120){_this.setState({lifted:true});}}}if(_this.state.showHotTopic)_this.initHotTopicMarkers(_this.state.map);_this.changeBorder(_this.state.map);/*        if (value === 4)\r\n                        this.state.toiletpapers.map(toiletpaper => toiletpaper.setMap(null))\r\n                else if (value === 3)\r\n                        this.state.discriminations.map(discrimination => discrimination.setMap(null))\r\n                   else if (value === 1 || value === 2)\r\n                    {\r\n                        this.state.toiletpapers.map(toiletpaper => toiletpaper.setMap(null))\r\n                        this.state.discriminations.map(discrimination => discrimination.setMap(null))\r\n                    }*/};_this.styleChange=function(event){if(_this.state.clearStyle)_this.setState({clearStyle:false});else _this.setState({clearStyle:true});if(event.target.checked){_this.state.map.data.setStyle({});}};_this.HospitalCheckboxChange=function(event){if(_this.state.showHospital)_this.setState({showHospital:false});else _this.setState({showHospital:true});if(event.target.checked)_this.initHospitalMarkers(_this.state.map);else _this.state.hospitals.map(function(hospital){return hospital.setMap(null);});};_this.SchoolCheckboxChange=function(event){if(_this.state.showSchool)_this.setState({showSchool:false});else _this.setState({showSchool:true});if(event.target.checked)_this.initSchoolMarkers(_this.state.map);else _this.state.schools.map(function(school){return school.setMap(null);});};_this.HotTopicCheckboxChange=function(event){if(_this.state.showHotTopic)_this.setState({showHotTopic:false});else _this.setState({showHotTopic:true});if(event.target.checked){if(_this.state.month===3||_this.state.month===4)_this.initHotTopicMarkers(_this.state.map);if(_this.state.month===3)_this.state.discriminations.map(function(discrimination){return discrimination.setMap(null);});else if(_this.state.month===4)_this.state.toiletpapers.map(function(toiletpaper){return toiletpaper.setMap(null);});}else{_this.state.toiletpapers.map(function(toiletpaper){return toiletpaper.setMap(null);});_this.state.discriminations.map(function(discrimination){return discrimination.setMap(null);});}console.log(\"toilet paper\"+_this.state.toiletpapers);};_this.state={dateInfo:{month:1,week:1,day:1,str:''},emotionInfo:{positive:0,middle:0,negative:0},locationInfo:{state:'',suburb:'BALLARAT'},pieAxis:[],pieData:[],pie2Data:[],pie2Axis:[],showKeyDate:false,keyDateText:'',hospital_location:[],school_location:[],hospitals:[],schools:[],toiletpapers:[],discriminations:[],cities:[],scale:'state',showHospital:false,showSchool:false,showHotTopic:false,clearStyle:false,loaded:false,map:null,cases:0,setOpen:false,opacity:'30%',level:3,searchText:'',expand:false,lifted:false,visibility:'hidden'};_this.initBorder=_this.initBorder.bind(_assertThisInitialized(_this));_this.changeBorder=_this.changeBorder.bind(_assertThisInitialized(_this));_this.initHospitalMarkers=_this.initHospitalMarkers.bind(_assertThisInitialized(_this));_this.initSchoolMarkers=_this.initSchoolMarkers.bind(_assertThisInitialized(_this));_this.initHotTopicMarkers=_this.initHotTopicMarkers.bind(_assertThisInitialized(_this));return _this;}_createClass(MapContainer,[{key:\"initBorder\",value:function initBorder(map){var that=this;Geocode.setApiKey(\"AIzaSyCb8v3J9mTRdgCSEo0unZYWM4HlmppEy7E\");Geocode.setLanguage(\"en\");Geocode.setRegion(\"au\");Geocode.enableDebug();//map.data.loadGeoJson('https://raw.githubusercontent.com/rowanhogan/australian-states/master/states.geojson')\n// map.data.loadGeoJson('https://api.jsonbin.io/b/5eab07bf07d49135ba485cfa/5')\nmap.data.loadGeoJson('https://data.gov.au/geoserver/vic-state-boundary-psma-administrative-boundaries/wfs?request=GetFeature&typeName=ckan_b90c2a19_d978_4e14_bb15_1114b46464fb&outputFormat=json');map.data.loadGeoJson('https://data.gov.au/geoserver/nsw-state-boundary/wfs?request=GetFeature&typeName=ckan_a1b278b1_59ef_4dea_8468_50eb09967f18&outputFormat=json');map.data.loadGeoJson('https://data.gov.au/geoserver/qld-state-boundary-psma-administrative-boundaries/wfs?request=GetFeature&typeName=ckan_2dbbec1a_99a2_4ee5_8806_53bc41d038a7&outputFormat=json');map.data.loadGeoJson('https://data.gov.au/geoserver/act-state-boundary-psma-administrative-boundaries/wfs?request=GetFeature&typeName=ckan_83468f0c_313d_4354_9592_289554eb2dc9&outputFormat=json');map.data.loadGeoJson('https://data.gov.au/geoserver/wa-state-boundary-psma-administrative-boundaries/wfs?request=GetFeature&typeName=ckan_5c00d495_21ba_452d_ae46_1ad0ca05e41f&outputFormat=json');map.data.loadGeoJson('https://data.gov.au/geoserver/tas-state-boundary/wfs?request=GetFeature&typeName=ckan_cf2ebc53_1633_4c5c_b892_bfc3945d913b&outputFormat=json');map.data.loadGeoJson('https://data.gov.au/geoserver/sa-state-boundary-psma-administrative-boundaries/wfs?request=GetFeature&typeName=ckan_8f996b8c_d939_4757_a231_3fec8cb8e929&outputFormat=json');map.data.loadGeoJson('https://data.gov.au/geoserver/nt-state-boundary-psma-administrative-boundaries/wfs?request=GetFeature&typeName=ckan_5162e11c_3259_4894_8b9e_f44540b6cb11&outputFormat=json');map.data.addListener('mouseover',function(event){map.data.overrideStyle(event.feature,{fillColor:'#ff8a80',strokeWeight:8,fillOpacity:0.6});if(map.zoom>5&&map.getCenter().lat()>-40&&map.getCenter().lat()<-30&&map.getCenter().lng()>135&&map.getCenter().lng()<150){if(that.state.scale==='state'){that.setState({visibility:'hidden'});map.data.forEach(function(feature){map.data.remove(feature);});map.data.loadGeoJson('https://data.gov.au/geoserver/vic-local-government-areas-psma-administrative-boundaries/wfs?request=GetFeature&typeName=ckan_bdf92691_c6fe_42b9_a0e2_a4cd716fa811&outputFormat=json');that.setState({scale:'suburb'});}}else{if(that.state.scale==='suburb'){that.setState({visibility:'hidden'});map.data.forEach(function(feature){map.data.remove(feature);});map.data.loadGeoJson('https://data.gov.au/geoserver/vic-state-boundary-psma-administrative-boundaries/wfs?request=GetFeature&typeName=ckan_b90c2a19_d978_4e14_bb15_1114b46464fb&outputFormat=json');map.data.loadGeoJson('https://data.gov.au/geoserver/nsw-state-boundary/wfs?request=GetFeature&typeName=ckan_a1b278b1_59ef_4dea_8468_50eb09967f18&outputFormat=json');map.data.loadGeoJson('https://data.gov.au/geoserver/qld-state-boundary-psma-administrative-boundaries/wfs?request=GetFeature&typeName=ckan_2dbbec1a_99a2_4ee5_8806_53bc41d038a7&outputFormat=json');map.data.loadGeoJson('https://data.gov.au/geoserver/act-state-boundary-psma-administrative-boundaries/wfs?request=GetFeature&typeName=ckan_83468f0c_313d_4354_9592_289554eb2dc9&outputFormat=json');map.data.loadGeoJson('https://data.gov.au/geoserver/wa-state-boundary-psma-administrative-boundaries/wfs?request=GetFeature&typeName=ckan_5c00d495_21ba_452d_ae46_1ad0ca05e41f&outputFormat=json');map.data.loadGeoJson('https://data.gov.au/geoserver/tas-state-boundary/wfs?request=GetFeature&typeName=ckan_cf2ebc53_1633_4c5c_b892_bfc3945d913b&outputFormat=json');map.data.loadGeoJson('https://data.gov.au/geoserver/sa-state-boundary-psma-administrative-boundaries/wfs?request=GetFeature&typeName=ckan_8f996b8c_d939_4757_a231_3fec8cb8e929&outputFormat=json');map.data.loadGeoJson('https://data.gov.au/geoserver/nt-state-boundary-psma-administrative-boundaries/wfs?request=GetFeature&typeName=ckan_5162e11c_3259_4894_8b9e_f44540b6cb11&outputFormat=json');}that.setState({scale:'state'});}});map.data.addListener('mouseout',function(){map.data.revertStyle();that.setState({show:\"none\"});});map.data.addListener('click',function(event){that.setState({locationInfo:{state:searchState3.get(event.feature.getProperty('state_pid')),suburb:event.feature.getProperty('vic_lga__3')}});var cases=0;if(that.state.scale==='state'){try{cases=that.props.statecases[that.state.dateInfo.str][that.state.locationInfo.state];}catch(e){}}else{try{cases=that.props.suburbcases[that.state.dateInfo.str][that.state.locationInfo.suburb];}catch(e){}}that.setState({cases:cases});if(that.state.scale==='state'){try{var low=transState.get(that.state.locationInfo.state);var date=strFromDate(that.state.dateInfo.month,that.state.dateInfo.day);}catch(e){}try{that.state.pieAxis.length=0;that.state.pieData.length=0;var topic=that.props.statetopic[date][low];topic.map(function(t,index){if(index<20){that.setState({pieAxis:[].concat(_toConsumableArray(that.state.pieAxis),[t.word])});that.setState({pieData:[].concat(_toConsumableArray(that.state.pieData),[t.num])});}});}catch(e){}try{that.state.pie2Axis.length=0;that.state.pie2Data.length=0;var emotion=that.props.stateemotion[date][low];console.log(\"print a topic example\"+that.props.stateemotion[date][low][0].num);emotion.map(function(t){that.setState({pie2Axis:[].concat(_toConsumableArray(that.state.pie2Axis),[t.emotion])});that.setState({pie2Data:[].concat(_toConsumableArray(that.state.pie2Data),[t.num])});});}catch(e){}}else if(that.state.scale==='suburb'){try{var name=that.state.locationInfo.suburb;var low=name.toLowerCase();var date=strFromDate(that.state.dateInfo.month,that.state.dateInfo.day);var topic=that.props.suburbtopic[date][low];var emotion=that.props.suburbemtion[date][low];}catch(e){}try{that.state.pieAxis.length=0;that.state.pieData.length=0;topic.map(function(t,index){if(index<20){that.setState({pieAxis:[].concat(_toConsumableArray(that.state.pieAxis),[t.word])});that.setState({pieData:[].concat(_toConsumableArray(that.state.pieData),[t.num])});}});}catch(e){}try{that.state.pie2Axis.length=0;that.state.pie2Data.length=0;emotion.map(function(t){that.setState({pie2Axis:[].concat(_toConsumableArray(that.state.pie2Axis),[t.emotion])});that.setState({pie2Data:[].concat(_toConsumableArray(that.state.pie2Data),[t.num])});});}catch(e){}}that.setState({visibility:'visible'});});this.changeBorder(map);}},{key:\"changeBorder\",value:function changeBorder(map){var that=this;map.data.setStyle(function(feature){var cases=0;if(that.state.scale==='state'){try{cases=that.props.statecases[that.state.dateInfo.str][searchState3.get(feature.getProperty('state_pid'))];}catch(e){}}else if(that.state.scale==='suburb'){try{cases=that.props.suburbcases[that.state.dateInfo.str][feature.getProperty('vic_lga__3')];}catch(e){}}var color=colorOnConfirmed(cases);return{fillColor:color,strokeWeight:0.3,strokeOpacity:0.3,fillOpacity:0.4};});this.setState({map:map});}},{key:\"initCitiesMarkers\",value:function initCitiesMarkers(map){var _this2=this;location.cities.map(function(city){_this2.state.cities.push(new window.google.maps.Marker({position:city,map:map}));});this.state.map=map;}},{key:\"initHotTopicMarkers\",value:function initHotTopicMarkers(map){var _this3=this;location.toiletpapers.map(function(toiletpaper){_this3.state.toiletpapers.push(new window.google.maps.Marker({position:toiletpaper,map:map,animation:window.google.maps.Animation.BOUNCE,icon:toiletpaper_marker}));});this.state.map=map;location.discriminations.map(function(discrimination){_this3.state.discriminations.push(new window.google.maps.Marker({position:discrimination,map:map,animation:window.google.maps.Animation.BOUNCE,icon:discrimination_marker}));});this.state.map=map;}},{key:\"initHospitalMarkers\",value:function initHospitalMarkers(map){var _this4=this;location.hospitals.map(function(hospital){_this4.state.hospitals.push(new window.google.maps.Marker({position:hospital,map:map,icon:hospital_marker}));});this.state.map=map;var markerCluster=new MarkerClusterer(map,this.state.hospitals,{styles:[{width:16,height:16,url:'https://i.imgur.com/pZcCLJn.png'}]});this.state.map=map;}},{key:\"initSchoolMarkers\",value:function initSchoolMarkers(map){var _this5=this;location.schools.map(function(school){_this5.state.schools.push(new window.google.maps.Marker({position:school,map:map,icon:school_marker}));});this.state.map=map;var markerCluster=new MarkerClusterer(map,this.state.schools,{styles:[{width:16,height:16,url:'https://i.imgur.com/SvmeGSC.png'}]});this.state.map=map;}},{key:\"render\",value:function render(){var _this6=this;var classes=this.props.classes;//if(this.state.loaded===true)\nreturn(/*#__PURE__*/React.createElement(\"div\",null,/*#__PURE__*/React.createElement(\"div\",{className:classes.mapContainer},/*#__PURE__*/React.createElement(InnerMap,{id:\"map\",options:{center:{lat:-25.5,lng:133.5},zoom:5,styles:mapStyles},onMapLoad:function onMapLoad(map){return _this6.initBorder(map);},changeBorder:this.changeBorder})),/*#__PURE__*/React.createElement(\"div\",{className:classes.searchPanel,style:{opacity:this.state.opacity},onMouseOver:this.onHoverSearch,onMouseLeave:this.onLeaveSearch},/*#__PURE__*/React.createElement(Paper,{elevation:3},/*#__PURE__*/React.createElement(ExpansionPanel,{expanded:this.state.expand},/*#__PURE__*/React.createElement(ExpansionPanelSummary,{expandIcon:/*#__PURE__*/React.createElement(ExpandMoreIcon,null),\"aria-controls\":\"panel1c-content\",id:\"panel1c-header\",onMouseOver:this.expandPanel,style:{backgroundColor:'#7268A6'}},/*#__PURE__*/React.createElement(\"div\",{className:classes.column},/*#__PURE__*/React.createElement(Typography,{className:classes.heading},\"Search\"))),/*#__PURE__*/React.createElement(ExpansionPanelDetails,{className:classes.details},/*#__PURE__*/React.createElement(\"div\",{className:classes.column},/*#__PURE__*/React.createElement(InputBase,{className:classes.input,placeholder:\"Input area\",onChange:this.handleSearchText}))),/*#__PURE__*/React.createElement(Divider,null),/*#__PURE__*/React.createElement(ExpansionPanelActions,null,/*#__PURE__*/React.createElement(IconButton,{type:\"submit\",className:classes.iconButton,\"aria-label\":\"search\",onClick:this.focusSearchArea},/*#__PURE__*/React.createElement(SearchIcon,null)))))),this.state.visibility==='visible'&&/*#__PURE__*/React.createElement(\"div\",{style:{position:'absolute',top:'150px',left:'160px'}},this.state.scale==='state'&&/*#__PURE__*/React.createElement(\"p\",null,\"state: \",this.state.locationInfo.state),this.state.scale==='suburb'&&/*#__PURE__*/React.createElement(\"p\",null,\"suburb: \",this.state.locationInfo.suburb+\"  \"),/*#__PURE__*/React.createElement(\"p\",null,\"cases: \",this.state.cases+\" \"),/*#__PURE__*/React.createElement(\"div\",{style:{width:'100px',merginTop:\"10px\"}},this.state.pieAxis.length>0&&/*#__PURE__*/React.createElement(\"p\",{style:{marginTop:\"25px\",marginBottom:\"-15px\"}},\"hot topics\"),this.state.pieAxis.length>0&&/*#__PURE__*/React.createElement(Piechart,{pieAxis:this.state.pieAxis,pieData:this.state.pieData}),this.state.pieData.length>0&&/*#__PURE__*/React.createElement(\"p\",{style:{marginTop:\"-8px\",marginBottom:\"-15px\"}},\"emotions\"),this.state.pieData.length>0&&/*#__PURE__*/React.createElement(Piechart,{pieAxis:this.state.pie2Axis,pieData:this.state.pie2Data}))),/*#__PURE__*/React.createElement(\"div\",{style:{display:'flex',position:'absolute',bottom:'80px',right:'100px'}},/*#__PURE__*/React.createElement(Colorlegend,null)),/*#__PURE__*/React.createElement(\"div\",{style:{position:'absolute',bottom:'60px',left:'30px',width:'700px'}},/*#__PURE__*/React.createElement(Typography,{style:{color:'#FFFFFF'}},\"Day/Month   \",\"  \"+this.state.dateInfo.day,\"/\",this.state.dateInfo.month),/*#__PURE__*/React.createElement(AirbnbSlider,{getAriaValueText:valuetext,\"aria-labelledby\":\"discrete-slider-always\",ThumbComponent:AirbnbThumbComponent,marks:marks,defaultValue:0,valueLabelDisplay:\"on\",onChange:this.DateChange,max:152}),/*#__PURE__*/React.createElement(\"div\",{style:{backgroundColor:'#fff'}},/*#__PURE__*/React.createElement(Snackbar,{open:this.state.setOpen&&!this.state.lifted,autoHideDuration:6000,onClose:this.handleClose},/*#__PURE__*/React.createElement(Alert,{onClose:this.handleClose,severity:\"warning\"},this.state.keyDateText)),/*#__PURE__*/React.createElement(Snackbar,{open:this.state.setOpen&&this.state.lifted,autoHideDuration:6000,onClose:this.handleClose},/*#__PURE__*/React.createElement(Alert,{onClose:this.handleClose,severity:\"success\"},this.state.keyDateText))))));}}]);return MapContainer;}(Component);export default withStyles(styles)(MapContainer);","map":{"version":3,"sources":["E:/github/covid/COVID19_amid_twitter_analysing/src/modules/mapcontainer.jsx"],"names":["React","Component","useState","ReactDOM","ReactDOMServer","Paper","Button","MuiAlert","Snackbar","Checkbox","MarkerClusterer","Colorlegend","stateCaseDate","suburbCaseDate","searchSuburb","searchState","searchState2","colorOnConfirmed","dayFromStr","monthFromStr","dayFromValue","strFromDate","clsx","ExpansionPanel","ExpansionPanelDetails","ExpansionPanelSummary","ExpansionPanelActions","ExpandMoreIcon","Divider","Piechart","IconButton","MenuIcon","SearchIcon","DirectionsIcon","InputBase","mapStyles","InnerMap","location","hospital_marker","school_marker","toiletpaper_marker","discrimination_marker","searchState3","transState","withStyles","makeStyles","Slider","Typography","get","Geocode","styles","theme","map","width","height","mapContainer","boxShadow","searchPanel","position","top","left","heading","fontSize","typography","pxToRem","secondaryHeading","color","palette","text","secondary","icon","verticalAlign","details","alignItems","column","flexBasis","helper","borderLeft","divider","padding","spacing","link","primary","main","textDecoration","input","marginLeft","flex","iconButton","margin","keyDates","value","info","marks","label","AirbnbSlider","root","thumb","backgroundColor","border","marginTop","marginRight","active","track","rail","borderRadius","markLabel","markLabelActive","valueLabel","valuetext","AirbnbThumbComponent","props","Alert","MapContainer","handleLevel","event","setState","level","target","handleSearchText","searchText","expandPanel","expand","focusSearchArea","state","fromAddress","then","response","results","geometry","lat","lng","setCenter","console","log","error","onHoverSearch","opacity","onLeaveSearch","handleClick","setOpen","handleClose","reason","showKeyDate","lifted","DateChange","dateInfo","month","Math","floor","week","day","str","length","keyDateText","showHotTopic","initHotTopicMarkers","changeBorder","styleChange","clearStyle","checked","data","setStyle","HospitalCheckboxChange","showHospital","initHospitalMarkers","hospitals","hospital","setMap","SchoolCheckboxChange","showSchool","initSchoolMarkers","schools","school","HotTopicCheckboxChange","discriminations","discrimination","toiletpapers","toiletpaper","emotionInfo","positive","middle","negative","locationInfo","suburb","pieAxis","pieData","pie2Data","pie2Axis","hospital_location","school_location","cities","scale","loaded","cases","visibility","initBorder","bind","that","setApiKey","setLanguage","setRegion","enableDebug","loadGeoJson","addListener","overrideStyle","feature","fillColor","strokeWeight","fillOpacity","zoom","getCenter","forEach","remove","revertStyle","show","getProperty","statecases","e","suburbcases","low","date","topic","statetopic","t","index","word","num","emotion","stateemotion","name","toLowerCase","suburbtopic","suburbemtion","strokeOpacity","city","push","window","google","maps","Marker","animation","Animation","BOUNCE","markerCluster","url","classes","center","merginTop","marginBottom","display","bottom","right"],"mappings":"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","sourcesContent":["import React, {Component, useState} from 'react';\r\nimport ReactDOM from \"react-dom\";\r\nimport ReactDOMServer from 'react-dom/server';\r\nimport {Paper, Button} from '@material-ui/core';\r\nimport MuiAlert from '@material-ui/lab/Alert';\r\nimport Snackbar from '@material-ui/core/Snackbar';\r\nimport {Checkbox} from \"@material-ui/core\";\r\nimport 'chart.js'\r\nimport MarkerClusterer from 'node-js-marker-clusterer';\r\nimport Colorlegend from \"./colorlegend\";\r\nimport '../App.css'\r\nimport {stateCaseDate, suburbCaseDate, searchSuburb, searchState, searchState2} from \"../modules/scale\"\r\n\r\nimport {colorOnConfirmed} from '../methods/defineColor'\r\nimport {dayFromStr, monthFromStr, dayFromValue, strFromDate} from '../methods/DateTransfer'\r\nimport clsx from 'clsx';\r\nimport ExpansionPanel from '@material-ui/core/ExpansionPanel';\r\nimport ExpansionPanelDetails from '@material-ui/core/ExpansionPanelDetails';\r\nimport ExpansionPanelSummary from '@material-ui/core/ExpansionPanelSummary';\r\nimport ExpansionPanelActions from '@material-ui/core/ExpansionPanelActions';\r\nimport ExpandMoreIcon from '@material-ui/icons/ExpandMore';\r\nimport Divider from '@material-ui/core/Divider';\r\nimport Piechart from './piechart'\r\nimport IconButton from '@material-ui/core/IconButton';\r\nimport MenuIcon from '@material-ui/icons/Menu';\r\nimport SearchIcon from '@material-ui/icons/Search';\r\nimport DirectionsIcon from '@material-ui/icons/Directions';\r\nimport InputBase from '@material-ui/core/InputBase';\r\nimport mapStyles from '../resources/mapstyle.json';\r\nimport InnerMap from './innermap';\r\nimport * as location from './location'\r\nimport hospital_marker from '../resources/hospital_marker.png'\r\nimport school_marker from '../resources/school_marker.png'\r\nimport toiletpaper_marker from '../resources/toiletpaper_marker.png'\r\nimport discrimination_marker from '../resources/discrimination_marker.png'\r\n\r\nimport {searchState3,transState} from './scale'\r\nimport {withStyles, makeStyles} from '@material-ui/core/styles';\r\nimport Slider from '@material-ui/core/Slider';\r\nimport Typography from '@material-ui/core/Typography';\r\nimport {get} from \"echarts/src/component/toolbox/featureManager\";\r\n\r\nimport Geocode from \"react-geocode\";\r\n\r\n\r\nconst styles = theme => ({\r\n    map: {\r\n        width: '100%',\r\n        height: '100%'\r\n    },\r\n    mapContainer: {\r\n        width: \"100%\",\r\n        height: \"900px\",\r\n        boxShadow: \"0 2px 8px 0 #d7d7d7\"\r\n    },\r\n    searchPanel: {\r\n        position: 'fixed',\r\n        top: '22%',\r\n        left: '82%',\r\n    },\r\n    heading: {\r\n        fontSize: theme.typography.pxToRem(15),\r\n    },\r\n    secondaryHeading: {\r\n        fontSize: theme.typography.pxToRem(15),\r\n        color: theme.palette.text.secondary,\r\n    },\r\n    icon: {\r\n        verticalAlign: 'bottom',\r\n        height: 20,\r\n        width: 20,\r\n    },\r\n    details: {\r\n        alignItems: 'center',\r\n    },\r\n    column: {\r\n        flexBasis: '50.00%',\r\n    },\r\n    helper: {\r\n        borderLeft: `2px solid ${theme.palette.divider}`,\r\n        padding: theme.spacing(1, 2),\r\n    },\r\n    link: {\r\n        color: theme.palette.primary.main,\r\n        textDecoration: 'none',\r\n        '&:hover': {\r\n            textDecoration: 'underline',\r\n        },\r\n    },\r\n    input: {\r\n        marginLeft: theme.spacing(1),\r\n        flex: 1,\r\n    },\r\n    iconButton: {\r\n        padding: 10,\r\n    },\r\n    divider: {\r\n        height: 28,\r\n        margin: 4,\r\n    },\r\n})\r\n\r\n//1.20 人传人确定 1.23 武汉封城 1.31 global emergency declared 2.1澳洲禁止中国 3.7 toilet paper 3.11 europe new epiccentre\r\n//3.15 aus 14-day qarantine for oversea returners 3.20 australia lockdown 3.23 aus cafes shutdown  3.30 victoria stage 3\r\n//5.13 stage 3 eased\r\nconst keyDates = [\r\n    {value: 19, info: \"human-to-human transmission confirmed\"},\r\n    {value: 22, info: \"Wuhan lockdown started\"},\r\n    {value: 30, info: \"global emergency declared\"},\r\n    {value: 31, info: \"travel ban issued for Chinese nationals\"},\r\n    {value: 66, info: \"toilet paper crisis in Australia\"},\r\n    {value: 70, info: \"Europe became new epicentre\"},\r\n    {value: 74, info: \"14-day quarantine needed for returners from overseas\"},\r\n    {value: 79, info: \"Australia closed its borders\"},\r\n    {value: 82, info: \"cafes shutdown\"},\r\n    {value: 133, info: \"stage 3 restrictions in place in Victoria\"},\r\n];\r\n\r\nconst marks = [\r\n    {\r\n        value: 0,\r\n        label: '01/01',\r\n    },\r\n    {\r\n        value: 28,\r\n        label: '29/01',\r\n    },\r\n    {\r\n        value: 59,\r\n        label: '29/02',\r\n    },\r\n    {\r\n        value: 88,\r\n        label: '29/03',\r\n    },\r\n    {\r\n        value: 121,\r\n        label: '01/05',\r\n    },\r\n    {\r\n        value: 133,\r\n        label: '13/05',\r\n    }\r\n];\r\nconst AirbnbSlider = withStyles({\r\n    root: {\r\n        color: 'primary',\r\n        height: 8,\r\n    },\r\n    thumb: {\r\n        height: 27,\r\n        width: 27,\r\n        backgroundColor: '#fff',\r\n        border: '1px solid currentColor',\r\n        marginTop: -12,\r\n        marginLeft: -13,\r\n        boxShadow: '#ebebeb 0px 2px 2px',\r\n        '&:focus, &:hover, &$active': {\r\n            boxShadow: '#ccc 0px 2px 2px 1px',\r\n        },\r\n        '& .bar': {\r\n            // display: inline-block !important;\r\n            height: 9,\r\n            width: 1,\r\n            backgroundColor: 'currentColor',\r\n            marginLeft: 1,\r\n            marginRight: 1,\r\n        },\r\n    },\r\n    active: {},\r\n    track: {\r\n        height: 8,\r\n        //borderRadius: 4,\r\n    },\r\n    rail: {\r\n        height: 8,\r\n        borderRadius: 4,\r\n    },\r\n    markLabel: {\r\n        color: 'grey'\r\n    },\r\n    markLabelActive: {\r\n        color: '#fff'\r\n    },\r\n    valueLabel: {\r\n        left: 'calc(-50% + 4px)',\r\n    },\r\n})(Slider);\r\n\r\nfunction valuetext(value) {\r\n    return `Date: ${value}`;\r\n}\r\n\r\nfunction AirbnbThumbComponent(props) {\r\n    return (\r\n        <span {...props}>\r\n      <span className=\"bar\"/>\r\n      <span className=\"bar\"/>\r\n    </span>\r\n    );\r\n}\r\n\r\nfunction Alert(props) {\r\n    return <MuiAlert elevation={6} variant=\"filled\" {...props} />;\r\n}\r\n\r\nclass MapContainer extends Component {\r\n\r\n    constructor(props) {\r\n        super(props);\r\n        this.state = {\r\n            dateInfo: {\r\n                month: 1,\r\n                week: 1,\r\n                day: 1,\r\n                str:''\r\n            },\r\n            emotionInfo: {\r\n                positive: 0,\r\n                middle: 0,\r\n                negative: 0\r\n            },\r\n            locationInfo: {\r\n                state: '',\r\n                suburb: 'BALLARAT'\r\n            },\r\n\r\n            pieAxis: [],\r\n            pieData: [],\r\n            pie2Data: [],\r\n            pie2Axis: [],\r\n\r\n            showKeyDate: false,\r\n            keyDateText: '',\r\n            hospital_location: [],\r\n            school_location: [],\r\n            hospitals: [],\r\n            schools: [],\r\n            toiletpapers: [],\r\n            discriminations: [],\r\n            cities: [],\r\n            scale: 'state',\r\n            showHospital: false,\r\n            showSchool: false,\r\n            showHotTopic: false,\r\n            clearStyle: false,\r\n            loaded: false,\r\n            map: null,\r\n            cases: 0,\r\n            setOpen: false,\r\n            opacity: '30%',\r\n            level: 3,\r\n            searchText: '',\r\n            expand: false,\r\n            lifted: false,\r\n            visibility: 'hidden'\r\n        };\r\n        this.initBorder = this.initBorder.bind(this)\r\n        this.changeBorder = this.changeBorder.bind(this);\r\n        this.initHospitalMarkers = this.initHospitalMarkers.bind(this);\r\n        this.initSchoolMarkers = this.initSchoolMarkers.bind(this);\r\n        this.initHotTopicMarkers = this.initHotTopicMarkers.bind(this);\r\n    }\r\n\r\n    handleLevel = (event) => {\r\n        this.setState({level: event.target.value});\r\n    }\r\n\r\n    handleSearchText = (event) => {\r\n        this.setState({searchText: event.target.value});\r\n    }\r\n\r\n    expandPanel = () => {\r\n        this.setState({expand: true});\r\n    }\r\n\r\n    focusSearchArea = () => {\r\n        let text = this.state.searchText;\r\n        this.setState({expand: false});\r\n        Geocode.fromAddress(text).then(\r\n            response => {\r\n                const { lat, lng } = response.results[0].geometry.location;\r\n                this.state.map.setCenter({lat, lng});\r\n                console.log(\"lat lng\"+lat+\" \"+lng)\r\n            },\r\n            error => {\r\n                console.error(error);\r\n            }\r\n        );\r\n    }\r\n\r\n    onHoverSearch = () => {\r\n        this.setState({opacity: '100%'});\r\n    }\r\n\r\n    onLeaveSearch = () => {\r\n        this.setState({opacity: '20%'});\r\n        this.setState({expand: false});\r\n    }\r\n\r\n    handleClick = () => {\r\n        this.setState({setOpen: true});\r\n    };\r\n\r\n    handleClose = (event, reason) => {\r\n        if (reason === 'clickaway') {\r\n            return;\r\n        }\r\n        this.setState({setOpen: false});\r\n        this.setState({showKeyDate: false});\r\n        this.setState({lifted: false});\r\n\r\n    };\r\n\r\n    initBorder(map) {\r\n\r\n        const that = this;\r\n\r\n        Geocode.setApiKey(\"AIzaSyCb8v3J9mTRdgCSEo0unZYWM4HlmppEy7E\");\r\n        Geocode.setLanguage(\"en\");\r\n        Geocode.setRegion(\"au\");\r\n        Geocode.enableDebug();\r\n\r\n        //map.data.loadGeoJson('https://raw.githubusercontent.com/rowanhogan/australian-states/master/states.geojson')\r\n\r\n        // map.data.loadGeoJson('https://api.jsonbin.io/b/5eab07bf07d49135ba485cfa/5')\r\n        map.data.loadGeoJson('https://data.gov.au/geoserver/vic-state-boundary-psma-administrative-boundaries/wfs?request=GetFeature&typeName=ckan_b90c2a19_d978_4e14_bb15_1114b46464fb&outputFormat=json')\r\n        map.data.loadGeoJson('https://data.gov.au/geoserver/nsw-state-boundary/wfs?request=GetFeature&typeName=ckan_a1b278b1_59ef_4dea_8468_50eb09967f18&outputFormat=json')\r\n        map.data.loadGeoJson('https://data.gov.au/geoserver/qld-state-boundary-psma-administrative-boundaries/wfs?request=GetFeature&typeName=ckan_2dbbec1a_99a2_4ee5_8806_53bc41d038a7&outputFormat=json')\r\n        map.data.loadGeoJson('https://data.gov.au/geoserver/act-state-boundary-psma-administrative-boundaries/wfs?request=GetFeature&typeName=ckan_83468f0c_313d_4354_9592_289554eb2dc9&outputFormat=json')\r\n        map.data.loadGeoJson('https://data.gov.au/geoserver/wa-state-boundary-psma-administrative-boundaries/wfs?request=GetFeature&typeName=ckan_5c00d495_21ba_452d_ae46_1ad0ca05e41f&outputFormat=json')\r\n        map.data.loadGeoJson('https://data.gov.au/geoserver/tas-state-boundary/wfs?request=GetFeature&typeName=ckan_cf2ebc53_1633_4c5c_b892_bfc3945d913b&outputFormat=json')\r\n        map.data.loadGeoJson('https://data.gov.au/geoserver/sa-state-boundary-psma-administrative-boundaries/wfs?request=GetFeature&typeName=ckan_8f996b8c_d939_4757_a231_3fec8cb8e929&outputFormat=json')\r\n        map.data.loadGeoJson('https://data.gov.au/geoserver/nt-state-boundary-psma-administrative-boundaries/wfs?request=GetFeature&typeName=ckan_5162e11c_3259_4894_8b9e_f44540b6cb11&outputFormat=json')\r\n\r\n        map.data.addListener('mouseover', function (event) {\r\n            map.data.overrideStyle(event.feature, {\r\n                fillColor: '#ff8a80',\r\n                strokeWeight: 8,\r\n                fillOpacity: 0.6\r\n            });\r\n            if(map.zoom>5 && (map.getCenter().lat()>-40&&map.getCenter().lat()<-30)&&(map.getCenter().lng()>135&&map.getCenter().lng()<150)) {\r\n                if(that.state.scale==='state'){\r\n\r\n\r\n                    that.setState({visibility:'hidden'})\r\n                map.data.forEach(function(feature) {\r\n                    map.data.remove(feature);\r\n                });\r\n                map.data.loadGeoJson('https://data.gov.au/geoserver/vic-local-government-areas-psma-administrative-boundaries/wfs?request=GetFeature&typeName=ckan_bdf92691_c6fe_42b9_a0e2_a4cd716fa811&outputFormat=json')\r\n                that.setState({scale:'suburb'})\r\n                }\r\n            }\r\n            else{\r\n                if(that.state.scale==='suburb')\r\n                {\r\n\r\n                    that.setState({visibility:'hidden'})\r\n                    map.data.forEach(function(feature) {\r\n                        map.data.remove(feature);\r\n                    });\r\n                    map.data.loadGeoJson('https://data.gov.au/geoserver/vic-state-boundary-psma-administrative-boundaries/wfs?request=GetFeature&typeName=ckan_b90c2a19_d978_4e14_bb15_1114b46464fb&outputFormat=json')\r\n                    map.data.loadGeoJson('https://data.gov.au/geoserver/nsw-state-boundary/wfs?request=GetFeature&typeName=ckan_a1b278b1_59ef_4dea_8468_50eb09967f18&outputFormat=json')\r\n                    map.data.loadGeoJson('https://data.gov.au/geoserver/qld-state-boundary-psma-administrative-boundaries/wfs?request=GetFeature&typeName=ckan_2dbbec1a_99a2_4ee5_8806_53bc41d038a7&outputFormat=json')\r\n                    map.data.loadGeoJson('https://data.gov.au/geoserver/act-state-boundary-psma-administrative-boundaries/wfs?request=GetFeature&typeName=ckan_83468f0c_313d_4354_9592_289554eb2dc9&outputFormat=json')\r\n                    map.data.loadGeoJson('https://data.gov.au/geoserver/wa-state-boundary-psma-administrative-boundaries/wfs?request=GetFeature&typeName=ckan_5c00d495_21ba_452d_ae46_1ad0ca05e41f&outputFormat=json')\r\n                    map.data.loadGeoJson('https://data.gov.au/geoserver/tas-state-boundary/wfs?request=GetFeature&typeName=ckan_cf2ebc53_1633_4c5c_b892_bfc3945d913b&outputFormat=json')\r\n                    map.data.loadGeoJson('https://data.gov.au/geoserver/sa-state-boundary-psma-administrative-boundaries/wfs?request=GetFeature&typeName=ckan_8f996b8c_d939_4757_a231_3fec8cb8e929&outputFormat=json')\r\n                    map.data.loadGeoJson('https://data.gov.au/geoserver/nt-state-boundary-psma-administrative-boundaries/wfs?request=GetFeature&typeName=ckan_5162e11c_3259_4894_8b9e_f44540b6cb11&outputFormat=json')\r\n                }\r\n                that.setState({scale:'state'})\r\n            }\r\n\r\n        });\r\n\r\n\r\n            map.data.addListener('mouseout', function () {\r\n                map.data.revertStyle();\r\n                that.setState({show: \"none\"});\r\n            });\r\n\r\n            map.data.addListener('click', function (event) {\r\n\r\n                that.setState({\r\n                    locationInfo: {\r\n                        state: searchState3.get(event.feature.getProperty('state_pid')),\r\n                        suburb: event.feature.getProperty('vic_lga__3')\r\n                    }\r\n                })\r\n\r\n                var cases = 0\r\n\r\n                if (that.state.scale === 'state') {\r\n                    try {\r\n                        cases=that.props.statecases[that.state.dateInfo.str][that.state.locationInfo.state]\r\n                    } catch (e) {\r\n                    }\r\n                } else {\r\n                    try {\r\n                        cases=that.props.suburbcases[that.state.dateInfo.str][that.state.locationInfo.suburb]\r\n                    } catch (e) {\r\n\r\n                    }\r\n                }\r\n                that.setState({cases: cases})\r\n\r\n\r\n                if(that.state.scale==='state') {\r\n                    try {\r\n                        var low = transState.get(that.state.locationInfo.state)\r\n                        var date = strFromDate(that.state.dateInfo.month, that.state.dateInfo.day)\r\n\r\n                    } catch (e) {\r\n\r\n                    }\r\n\r\n                    try {\r\n                        that.state.pieAxis.length = 0\r\n                        that.state.pieData.length = 0\r\n\r\n                        var topic = that.props.statetopic[date][low]\r\n\r\n                        topic.map(\r\n                            (t, index) => {\r\n                                if (index < 20) {\r\n                                    that.setState({pieAxis: [...that.state.pieAxis, t.word]})\r\n                                    that.setState({pieData: [...that.state.pieData, t.num]})\r\n                                }\r\n                            }\r\n                        )\r\n                    } catch (e) {\r\n\r\n                    }\r\n\r\n                    try {\r\n                        that.state.pie2Axis.length = 0\r\n                        that.state.pie2Data.length = 0\r\n\r\n                        var emotion = that.props.stateemotion[date][low]\r\n                        console.log(\"print a topic example\" + that.props.stateemotion[date][low][0].num)\r\n\r\n\r\n                        emotion.map(\r\n                            (t) => {\r\n                                that.setState({pie2Axis: [...that.state.pie2Axis, t.emotion]})\r\n                                that.setState({pie2Data: [...that.state.pie2Data, t.num]})\r\n\r\n                            }\r\n                        )\r\n                    } catch (e) {\r\n\r\n                    }\r\n\r\n                }\r\n\r\n                else if(that.state.scale==='suburb') {\r\n                    try {\r\n\r\n                        var name = that.state.locationInfo.suburb\r\n                        var low = name.toLowerCase()\r\n                        var date = strFromDate(that.state.dateInfo.month, that.state.dateInfo.day)\r\n\r\n                        var topic = that.props.suburbtopic[date][low]\r\n                        var emotion = that.props.suburbemtion[date][low]\r\n\r\n                    } catch (e) {\r\n\r\n                    }\r\n\r\n                    try {\r\n                        that.state.pieAxis.length = 0\r\n                        that.state.pieData.length = 0\r\n\r\n                        topic.map(\r\n                            (t, index) => {\r\n                                if (index < 20) {\r\n                                    that.setState({pieAxis: [...that.state.pieAxis, t.word]})\r\n                                    that.setState({pieData: [...that.state.pieData, t.num]})\r\n                                }\r\n                            }\r\n                        )\r\n                    } catch (e) {\r\n\r\n                    }\r\n\r\n                    try {\r\n                        that.state.pie2Axis.length = 0\r\n                        that.state.pie2Data.length = 0\r\n\r\n                        emotion.map(\r\n                            (t) => {\r\n\r\n                                that.setState({pie2Axis: [...that.state.pie2Axis, t.emotion]})\r\n                                that.setState({pie2Data: [...that.state.pie2Data, t.num]})\r\n\r\n                            }\r\n                        )\r\n                    } catch (e) {\r\n\r\n                    }\r\n\r\n                }\r\n                that.setState({visibility:'visible'})\r\n            });\r\n\r\n        this.changeBorder(map)\r\n\r\n    }\r\n\r\n    changeBorder(map) {\r\n\r\n        const that = this;\r\n\r\n        map.data.setStyle(function (feature) {\r\n\r\n            var cases = 0\r\n            if (that.state.scale === 'state') {\r\n\r\n                try {\r\n                    cases=that.props.statecases[that.state.dateInfo.str][searchState3.get(feature.getProperty('state_pid'))]\r\n                } catch (e) {\r\n\r\n                }\r\n\r\n            } else if (that.state.scale === 'suburb') {\r\n\r\n                try {\r\n                    cases=that.props.suburbcases[that.state.dateInfo.str][feature.getProperty('vic_lga__3')]\r\n                } catch (e) {\r\n\r\n                }\r\n            }\r\n\r\n            let color = colorOnConfirmed(cases);\r\n\r\n            return {\r\n                fillColor: color,\r\n                strokeWeight: 0.3,\r\n                strokeOpacity: 0.3,\r\n                fillOpacity: 0.4,\r\n            };\r\n        });\r\n\r\n        this.setState({map: map})\r\n\r\n    }\r\n\r\n    initCitiesMarkers(map) {\r\n\r\n        location.cities.map(city => {\r\n            this.state.cities.push(new window.google.maps.Marker({\r\n                position: city,\r\n                map: map,\r\n            }))\r\n        })\r\n        this.state.map = map;\r\n\r\n    }\r\n\r\n    initHotTopicMarkers(map) {\r\n\r\n        location.toiletpapers.map(toiletpaper => {\r\n            this.state.toiletpapers.push(new window.google.maps.Marker({\r\n                position: toiletpaper,\r\n                map: map,\r\n                animation: window.google.maps.Animation.BOUNCE,\r\n                icon: toiletpaper_marker\r\n            }))\r\n        })\r\n        this.state.map = map\r\n        location.discriminations.map(discrimination => {\r\n            this.state.discriminations.push(new window.google.maps.Marker({\r\n                position: discrimination,\r\n                map: map,\r\n                animation: window.google.maps.Animation.BOUNCE,\r\n                icon: discrimination_marker\r\n            }))\r\n        })\r\n        this.state.map = map\r\n    }\r\n\r\n    initHospitalMarkers(map) {\r\n\r\n        location.hospitals.map(hospital => {\r\n            this.state.hospitals.push(new window.google.maps.Marker({\r\n                position: hospital,\r\n                map: map,\r\n                icon: hospital_marker\r\n            }))\r\n        })\r\n        this.state.map = map;\r\n\r\n        var markerCluster = new MarkerClusterer(map, this.state.hospitals, {\r\n                styles: [{\r\n                    width: 16,\r\n                    height: 16,\r\n                    url: 'https://i.imgur.com/pZcCLJn.png',\r\n                }],\r\n            },\r\n        );\r\n\r\n        this.state.map = map;\r\n\r\n    }\r\n\r\n    initSchoolMarkers(map) {\r\n        location.schools.map(school => {\r\n            this.state.schools.push(new window.google.maps.Marker({\r\n                position: school,\r\n                map: map,\r\n                icon: school_marker\r\n            }))\r\n        })\r\n        this.state.map = map;\r\n\r\n        var markerCluster = new MarkerClusterer(map, this.state.schools, {\r\n                styles: [{\r\n                    width: 16,\r\n                    height: 16,\r\n                    url: 'https://i.imgur.com/SvmeGSC.png',\r\n                }],\r\n            },\r\n        );\r\n\r\n        this.state.map = map;\r\n\r\n    }\r\n\r\n    DateChange = (event, value) => {\r\n\r\n        this.setState({\r\n            dateInfo: {\r\n                month: Math.floor(value / 30) + 1,\r\n                week: Math.floor(value / 7) + 1,\r\n                day: dayFromValue(value),\r\n                str: strFromDate(Math.floor(value / 30) + 1, dayFromValue(value))\r\n            }\r\n        });\r\n\r\n        for (let day = 0; day < keyDates.length; day++) {\r\n            if (keyDates[day].value === value) {\r\n                this.handleClick();\r\n                this.setState({showKeyDate: true, keyDateText: keyDates[day].info});\r\n                if (value === 120) {\r\n                    this.setState({lifted: true});\r\n                }\r\n            }\r\n        }\r\n        if (this.state.showHotTopic)\r\n            this.initHotTopicMarkers(this.state.map);\r\n\r\n        this.changeBorder(this.state.map)\r\n\r\n        /*        if (value === 4)\r\n                        this.state.toiletpapers.map(toiletpaper => toiletpaper.setMap(null))\r\n                else if (value === 3)\r\n                        this.state.discriminations.map(discrimination => discrimination.setMap(null))\r\n                   else if (value === 1 || value === 2)\r\n                    {\r\n                        this.state.toiletpapers.map(toiletpaper => toiletpaper.setMap(null))\r\n                        this.state.discriminations.map(discrimination => discrimination.setMap(null))\r\n                    }*/\r\n\r\n    };\r\n\r\n    styleChange = (event) => {\r\n        if (this.state.clearStyle)\r\n            this.setState({clearStyle: false})\r\n        else\r\n            this.setState({clearStyle: true})\r\n        if (event.target.checked) {\r\n            this.state.map.data.setStyle({})\r\n        }\r\n\r\n    }\r\n\r\n    HospitalCheckboxChange = (event) => {\r\n\r\n        if (this.state.showHospital)\r\n            this.setState({showHospital: false});\r\n        else\r\n            this.setState({showHospital: true});\r\n        if (event.target.checked)\r\n            this.initHospitalMarkers(this.state.map);\r\n        else\r\n            this.state.hospitals.map(hospital => hospital.setMap(null))\r\n\r\n    };\r\n\r\n    SchoolCheckboxChange = (event) => {\r\n\r\n        if (this.state.showSchool)\r\n            this.setState({showSchool: false});\r\n        else\r\n            this.setState({showSchool: true});\r\n        if (event.target.checked)\r\n            this.initSchoolMarkers(this.state.map);\r\n        else\r\n            this.state.schools.map(school => school.setMap(null))\r\n\r\n    };\r\n\r\n    HotTopicCheckboxChange = (event) => {\r\n\r\n        if (this.state.showHotTopic)\r\n            this.setState({showHotTopic: false});\r\n        else\r\n            this.setState({showHotTopic: true});\r\n        if (event.target.checked) {\r\n            if (this.state.month === 3 || this.state.month === 4)\r\n                this.initHotTopicMarkers(this.state.map);\r\n            if (this.state.month === 3)\r\n                this.state.discriminations.map(discrimination => discrimination.setMap(null))\r\n            else if (this.state.month === 4)\r\n                this.state.toiletpapers.map(toiletpaper => toiletpaper.setMap(null))\r\n        } else {\r\n            this.state.toiletpapers.map(toiletpaper => toiletpaper.setMap(null))\r\n            this.state.discriminations.map(discrimination => discrimination.setMap(null))\r\n        }\r\n        console.log(\"toilet paper\" + this.state.toiletpapers)\r\n\r\n    };\r\n\r\n    render() {\r\n        const {classes} = this.props;\r\n\r\n        //if(this.state.loaded===true)\r\n\r\n        return (\r\n            <div>\r\n                <div className={classes.mapContainer}>\r\n                    < InnerMap id=\"map\"\r\n                               options={{center: {lat: -25.5, lng: 133.5}, zoom: 5, styles: mapStyles}}\r\n                               onMapLoad={(map) => this.initBorder(map)\r\n                               } changeBorder={this.changeBorder}/>\r\n\r\n                </div>\r\n                <div className={classes.searchPanel} style={{opacity: this.state.opacity}} onMouseOver={this.onHoverSearch} onMouseLeave={this.onLeaveSearch}>\r\n                    <Paper elevation={3} >\r\n                        <ExpansionPanel expanded={this.state.expand}>\r\n                            <ExpansionPanelSummary\r\n                                expandIcon={<ExpandMoreIcon />}\r\n                                aria-controls=\"panel1c-content\"\r\n                                id=\"panel1c-header\"\r\n                                onMouseOver={this.expandPanel}\r\n                                style={{backgroundColor:'#7268A6'}}\r\n                            >\r\n                                <div className={classes.column}>\r\n                                    <Typography className={classes.heading}>Search</Typography>\r\n                                </div>\r\n                            </ExpansionPanelSummary>\r\n                            <ExpansionPanelDetails className={classes.details}>\r\n                                <div className={classes.column}>\r\n                                    <InputBase\r\n                                        className={classes.input}\r\n                                        placeholder=\"Input area\"\r\n                                        onChange={this.handleSearchText}\r\n                                    />\r\n\r\n                                </div>\r\n                            </ExpansionPanelDetails>\r\n                            <Divider />\r\n                            <ExpansionPanelActions>\r\n                                <IconButton type=\"submit\" className={classes.iconButton} aria-label=\"search\" onClick={this.focusSearchArea}>\r\n                                    <SearchIcon />\r\n                                </IconButton>\r\n                            </ExpansionPanelActions>\r\n                        </ExpansionPanel>\r\n                    </Paper>\r\n                </div>\r\n                {/*                          <div style={{display:'flex', position: 'absolute',bottom: '220px', left: '20px'}}>\r\n                                <Checkbox\r\n                                    checked={this.state.clearStyle}\r\n                                    onChange={this.styleChange}\r\n                                />\r\n                                <p style={{color:'#FFFFFF'}}>\r\n                                    Covid cases\r\n                                </p>\r\n                            </div>*/}\r\n\r\n                {/*                            <div style={{display:'flex', position: 'absolute',bottom: '180px', left: '20px'}}>\r\n                                <Checkbox\r\n                                    checked={this.state.showHotTopic}\r\n                                    onChange={this.HotTopicCheckboxChange}\r\n                                />\r\n                                <p style={{color:'#FFFFFF'}}>\r\n                                    HotTopic\r\n                                </p>\r\n                            </div>\r\n\r\n                            <div style={{display:'flex', position: 'absolute',bottom: '140px', left: '20px'}}>\r\n                                <Checkbox\r\n                                    checked={this.state.showHospital}\r\n                                    onChange={this.HospitalCheckboxChange}\r\n                                />\r\n                                <p style={{color:'#FFFFFF'}}>\r\n                                    Hospital\r\n                                </p>\r\n                            </div>\r\n\r\n                            <div style={{display:'flex', position: 'absolute',bottom: '100px', left: '20px'}}>\r\n                                <Checkbox\r\n                                    checked={this.state.showSchool}\r\n                                    onChange={this.SchoolCheckboxChange}\r\n                                />\r\n                                <p style={{color:'#FFFFFF'}}>\r\n                                    School\r\n                                </p>\r\n                            </div>*/}\r\n\r\n                {/*\r\n                            <div style={{width:\"150px\", height:\"50px\", display:this.state.show,position: 'absolute',bottom:this.state.bottom, left: this.state.left}}>\r\n*/}\r\n                {this.state.visibility === 'visible' &&\r\n                <div style={{position: 'absolute', top: '150px', left: '160px'}}>\r\n\r\n                    {this.state.scale === 'state' &&\r\n                    <p>state: {this.state.locationInfo.state}</p>}\r\n                    {this.state.scale === 'suburb' &&\r\n                    <p>suburb: {this.state.locationInfo.suburb + \"  \"}</p>}\r\n\r\n                    <p>cases: {this.state.cases + \" \"}</p>\r\n\r\n                    <div style={{width: '100px', merginTop: \"10px\"}}>\r\n                        {this.state.pieAxis.length > 0 &&\r\n                        <p style={{marginTop: \"25px\", marginBottom: \"-15px\"}}>hot topics</p>}\r\n                        {this.state.pieAxis.length > 0&&\r\n                        <Piechart pieAxis={this.state.pieAxis} pieData={this.state.pieData}/>}\r\n                        {this.state.pieData.length > 0 &&\r\n                        <p style={{marginTop: \"-8px\", marginBottom: \"-15px\"}}>emotions</p>}\r\n                        {this.state.pieData.length > 0 &&\r\n                        <Piechart pieAxis={this.state.pie2Axis} pieData={this.state.pie2Data}/>}\r\n                    </div>\r\n\r\n                </div>\r\n                }\r\n\r\n                < div style={{display: 'flex', position: 'absolute', bottom: '80px', right: '100px'}}>\r\n                    <Colorlegend/>\r\n                    </div>\r\n\r\n\r\n                {/* <FormControl>\r\n                                <InputLabel shrink id=\"demo-simple-select-placeholder-label-label\">\r\n                                    Area\r\n                                </InputLabel>\r\n                                <Select\r\n                                    labelId=\"demo-simple-select-placeholder-label-label\"\r\n                                    id=\"demo-simple-select-placeholder-label\"\r\n                                    value={area}\r\n                                    onChange={handleSelectChange}\r\n                                    displayEmpty\r\n                                    className={classes.selectEmpty}\r\n                                >\r\n                                    <MenuItem value=\"\">\r\n                                        <em>State</em>\r\n                                    </MenuItem>\r\n                                    <MenuItem value={10}>Suburb</MenuItem>\r\n                                    <MenuItem value={20}>Cities</MenuItem>\r\n                                </Select>\r\n                                <FormHelperText>Area Select</FormHelperText>\r\n                            </FormControl>*/}\r\n\r\n\r\n                <div style={{position: 'absolute', bottom: '60px', left: '30px', width: '700px'}}>\r\n\r\n                    <Typography style={{color: '#FFFFFF'}}>\r\n                        Day/Month   {\"  \"+this.state.dateInfo.day}/{this.state.dateInfo.month}\r\n                    </Typography>\r\n\r\n                    <AirbnbSlider\r\n                        getAriaValueText={valuetext}\r\n                        aria-labelledby=\"discrete-slider-always\"\r\n                        ThumbComponent={AirbnbThumbComponent}\r\n                        marks={marks}\r\n                        defaultValue={0}\r\n                        valueLabelDisplay=\"on\"\r\n                        onChange={this.DateChange}\r\n                        max={152}\r\n                    />\r\n\r\n                    <div style={{\r\n                        backgroundColor: '#fff'\r\n                    }}>\r\n                        <Snackbar open={this.state.setOpen && !this.state.lifted} autoHideDuration={6000} onClose={this.handleClose}>\r\n                            <Alert onClose={this.handleClose} severity=\"warning\">\r\n                                {this.state.keyDateText}\r\n                            </Alert>\r\n                        </Snackbar>\r\n                        <Snackbar open={this.state.setOpen && this.state.lifted} autoHideDuration={6000} onClose={this.handleClose}>\r\n                            <Alert onClose={this.handleClose} severity=\"success\">\r\n                                {this.state.keyDateText}\r\n                            </Alert>\r\n                        </Snackbar>\r\n                    </div>\r\n                </div>\r\n\r\n\r\n            </div>\r\n        )\r\n    }\r\n\r\n\r\n}\r\n\r\nexport default withStyles(styles)(MapContainer);\r\n"]},"metadata":{},"sourceType":"module"}