{"ast":null,"code":"var _jsxFileName = \"E:\\\\github\\\\covid\\\\COVID19_amid_twitter_analysing\\\\src\\\\modules\\\\mapcontainer.jsx\";\nimport React, { Component, useState } from 'react';\nimport ReactDOM from \"react-dom\";\nimport ReactDOMServer from 'react-dom/server';\nimport { Paper, Button } from '@material-ui/core';\nimport MuiAlert from '@material-ui/lab/Alert';\nimport Snackbar from '@material-ui/core/Snackbar';\nimport { Checkbox } from \"@material-ui/core\";\nimport 'chart.js';\nimport MarkerClusterer from 'node-js-marker-clusterer';\nimport Colorlegend from \"./colorlegend\";\nimport '../App.css';\nimport { stateCaseDate, suburbCaseDate, searchSuburb, searchState, searchState2 } from \"../modules/scale\";\nimport { colorOnConfirmed } from '../methods/defineColor';\nimport { dayFromStr, monthFromStr, dayFromValue, strFromDate } from '../methods/DateTransfer';\nimport clsx from 'clsx';\nimport ExpansionPanel from '@material-ui/core/ExpansionPanel';\nimport ExpansionPanelDetails from '@material-ui/core/ExpansionPanelDetails';\nimport ExpansionPanelSummary from '@material-ui/core/ExpansionPanelSummary';\nimport ExpansionPanelActions from '@material-ui/core/ExpansionPanelActions';\nimport ExpandMoreIcon from '@material-ui/icons/ExpandMore';\nimport Divider from '@material-ui/core/Divider';\nimport Piechart from './piechart';\nimport IconButton from '@material-ui/core/IconButton';\nimport MenuIcon from '@material-ui/icons/Menu';\nimport SearchIcon from '@material-ui/icons/Search';\nimport DirectionsIcon from '@material-ui/icons/Directions';\nimport InputBase from '@material-ui/core/InputBase';\nimport mapStyles from '../resources/mapstyle.json';\nimport InnerMap from './innermap';\nimport * as location from './location';\nimport hospital_marker from '../resources/hospital_marker.png';\nimport school_marker from '../resources/school_marker.png';\nimport toiletpaper_marker from '../resources/toiletpaper_marker.png';\nimport discrimination_marker from '../resources/discrimination_marker.png';\nimport { searchState3, transState } from './scale';\nimport { withStyles, makeStyles } from '@material-ui/core/styles';\nimport Slider from '@material-ui/core/Slider';\nimport Typography from '@material-ui/core/Typography';\nimport { get } from \"echarts/src/component/toolbox/featureManager\";\nimport Geocode from \"react-geocode\";\n\nconst styles = theme => ({\n  map: {\n    width: '100%',\n    height: '100%'\n  },\n  mapContainer: {\n    width: \"100%\",\n    height: \"900px\",\n    boxShadow: \"0 2px 8px 0 #d7d7d7\"\n  },\n  searchPanel: {\n    position: 'fixed',\n    top: '22%',\n    left: '82%'\n  },\n  heading: {\n    fontSize: theme.typography.pxToRem(15)\n  },\n  secondaryHeading: {\n    fontSize: theme.typography.pxToRem(15),\n    color: theme.palette.text.secondary\n  },\n  icon: {\n    verticalAlign: 'bottom',\n    height: 20,\n    width: 20\n  },\n  details: {\n    alignItems: 'center'\n  },\n  column: {\n    flexBasis: '50.00%'\n  },\n  helper: {\n    borderLeft: `2px solid ${theme.palette.divider}`,\n    padding: theme.spacing(1, 2)\n  },\n  link: {\n    color: theme.palette.primary.main,\n    textDecoration: 'none',\n    '&:hover': {\n      textDecoration: 'underline'\n    }\n  },\n  input: {\n    marginLeft: theme.spacing(1),\n    flex: 1\n  },\n  iconButton: {\n    padding: 10\n  },\n  divider: {\n    height: 28,\n    margin: 4\n  }\n}); //1.20 人传人确定 1.23 武汉封城 1.31 global emergency declared 2.1澳洲禁止中国 3.7 toilet paper 3.11 europe new epiccentre\n//3.15 aus 14-day qarantine for oversea returners 3.20 australia lockdown 3.23 aus cafes shutdown  3.30 victoria stage 3\n//5.13 stage 3 eased\n\n\nconst keyDates = [{\n  value: 19,\n  info: \"human-to-human transmission confirmed\"\n}, {\n  value: 22,\n  info: \"Wuhan lockdown started\"\n}, {\n  value: 30,\n  info: \"global emergency declared\"\n}, {\n  value: 31,\n  info: \"travel ban issued for Chinese nationals\"\n}, {\n  value: 66,\n  info: \"toilet paper crisis in Australia\"\n}, {\n  value: 70,\n  info: \"Europe became new epicentre\"\n}, {\n  value: 74,\n  info: \"14-day quarantine needed for returners from overseas\"\n}, {\n  value: 79,\n  info: \"Australia closed its borders\"\n}, {\n  value: 82,\n  info: \"cafes shutdown\"\n}, {\n  value: 133,\n  info: \"stage 3 restrictions in place in Victoria\"\n}];\nconst marks = [{\n  value: 0,\n  label: '01/01'\n}, {\n  value: 28,\n  label: '29/01'\n}, {\n  value: 59,\n  label: '29/02'\n}, {\n  value: 88,\n  label: '29/03'\n}, {\n  value: 121,\n  label: '01/05'\n}, {\n  value: 133,\n  label: '13/05'\n}];\nconst AirbnbSlider = withStyles({\n  root: {\n    color: 'primary',\n    height: 8\n  },\n  thumb: {\n    height: 27,\n    width: 27,\n    backgroundColor: '#fff',\n    border: '1px solid currentColor',\n    marginTop: -12,\n    marginLeft: -13,\n    boxShadow: '#ebebeb 0px 2px 2px',\n    '&:focus, &:hover, &$active': {\n      boxShadow: '#ccc 0px 2px 2px 1px'\n    },\n    '& .bar': {\n      // display: inline-block !important;\n      height: 9,\n      width: 1,\n      backgroundColor: 'currentColor',\n      marginLeft: 1,\n      marginRight: 1\n    }\n  },\n  active: {},\n  track: {\n    height: 8 //borderRadius: 4,\n\n  },\n  rail: {\n    height: 8,\n    borderRadius: 4\n  },\n  markLabel: {\n    color: 'grey'\n  },\n  markLabelActive: {\n    color: '#fff'\n  },\n  valueLabel: {\n    left: 'calc(-50% + 4px)'\n  }\n})(Slider);\n\nfunction valuetext(value) {\n  return `Date: ${value}`;\n}\n\nfunction AirbnbThumbComponent(props) {\n  return (\n    /*#__PURE__*/\n    React.createElement(\"span\", Object.assign({}, props, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 196,\n        columnNumber: 9\n      }\n    }),\n    /*#__PURE__*/\n    React.createElement(\"span\", {\n      className: \"bar\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 197,\n        columnNumber: 7\n      }\n    }),\n    /*#__PURE__*/\n    React.createElement(\"span\", {\n      className: \"bar\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 198,\n        columnNumber: 7\n      }\n    }))\n  );\n}\n\nfunction Alert(props) {\n  return (\n    /*#__PURE__*/\n    React.createElement(MuiAlert, Object.assign({\n      elevation: 6,\n      variant: \"filled\"\n    }, props, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 204,\n        columnNumber: 12\n      }\n    }))\n  );\n}\n\nclass MapContainer extends Component {\n  constructor(props) {\n    super(props);\n\n    this.handleLevel = event => {\n      this.setState({\n        level: event.target.value\n      });\n    };\n\n    this.handleSearchText = event => {\n      this.setState({\n        searchText: event.target.value\n      });\n    };\n\n    this.expandPanel = () => {\n      this.setState({\n        expand: true\n      });\n    };\n\n    this.focusSearchArea = () => {\n      let text = this.state.searchText;\n      this.setState({\n        expand: false\n      });\n      Geocode.fromAddress(text).then(response => {\n        const {\n          lat,\n          lng\n        } = response.results[0].geometry.location;\n        this.state.map.setCenter({\n          lat,\n          lng\n        });\n        console.log(\"lat lng\" + lat + \" \" + lng);\n      }, error => {\n        console.error(error);\n      });\n    };\n\n    this.onHoverSearch = () => {\n      this.setState({\n        opacity: '100%'\n      });\n    };\n\n    this.onLeaveSearch = () => {\n      this.setState({\n        opacity: '20%'\n      });\n      this.setState({\n        expand: false\n      });\n    };\n\n    this.handleClick = () => {\n      this.setState({\n        setOpen: true\n      });\n    };\n\n    this.handleClose = (event, reason) => {\n      if (reason === 'clickaway') {\n        return;\n      }\n\n      this.setState({\n        setOpen: false\n      });\n      this.setState({\n        showKeyDate: false\n      });\n      this.setState({\n        lifted: false\n      });\n    };\n\n    this.DateChange = (event, value) => {\n      this.setState({\n        dateInfo: {\n          month: Math.floor(value / 30) + 1,\n          week: Math.floor(value / 7) + 1,\n          day: dayFromValue(value),\n          str: strFromDate(Math.floor(value / 30) + 1, dayFromValue(value))\n        }\n      });\n\n      for (let day = 0; day < keyDates.length; day++) {\n        if (keyDates[day].value === value) {\n          this.handleClick();\n          this.setState({\n            showKeyDate: true,\n            keyDateText: keyDates[day].info\n          });\n\n          if (value === 120) {\n            this.setState({\n              lifted: true\n            });\n          }\n        }\n      }\n\n      if (this.state.showHotTopic) this.initHotTopicMarkers(this.state.map);\n      this.changeBorder(this.state.map);\n      /*        if (value === 4)\r\n                      this.state.toiletpapers.map(toiletpaper => toiletpaper.setMap(null))\r\n              else if (value === 3)\r\n                      this.state.discriminations.map(discrimination => discrimination.setMap(null))\r\n                 else if (value === 1 || value === 2)\r\n                  {\r\n                      this.state.toiletpapers.map(toiletpaper => toiletpaper.setMap(null))\r\n                      this.state.discriminations.map(discrimination => discrimination.setMap(null))\r\n                  }*/\n    };\n\n    this.styleChange = event => {\n      if (this.state.clearStyle) this.setState({\n        clearStyle: false\n      });else this.setState({\n        clearStyle: true\n      });\n\n      if (event.target.checked) {\n        this.state.map.data.setStyle({});\n      }\n    };\n\n    this.HospitalCheckboxChange = event => {\n      if (this.state.showHospital) this.setState({\n        showHospital: false\n      });else this.setState({\n        showHospital: true\n      });\n      if (event.target.checked) this.initHospitalMarkers(this.state.map);else this.state.hospitals.map(hospital => hospital.setMap(null));\n    };\n\n    this.SchoolCheckboxChange = event => {\n      if (this.state.showSchool) this.setState({\n        showSchool: false\n      });else this.setState({\n        showSchool: true\n      });\n      if (event.target.checked) this.initSchoolMarkers(this.state.map);else this.state.schools.map(school => school.setMap(null));\n    };\n\n    this.HotTopicCheckboxChange = event => {\n      if (this.state.showHotTopic) this.setState({\n        showHotTopic: false\n      });else this.setState({\n        showHotTopic: true\n      });\n\n      if (event.target.checked) {\n        if (this.state.month === 3 || this.state.month === 4) this.initHotTopicMarkers(this.state.map);\n        if (this.state.month === 3) this.state.discriminations.map(discrimination => discrimination.setMap(null));else if (this.state.month === 4) this.state.toiletpapers.map(toiletpaper => toiletpaper.setMap(null));\n      } else {\n        this.state.toiletpapers.map(toiletpaper => toiletpaper.setMap(null));\n        this.state.discriminations.map(discrimination => discrimination.setMap(null));\n      }\n\n      console.log(\"toilet paper\" + this.state.toiletpapers);\n    };\n\n    this.state = {\n      dateInfo: {\n        month: 1,\n        week: 1,\n        day: 1,\n        str: ''\n      },\n      emotionInfo: {\n        positive: 0,\n        middle: 0,\n        negative: 0\n      },\n      locationInfo: {\n        state: '',\n        suburb: 'BALLARAT'\n      },\n      pieAxis: [],\n      pieData: [],\n      pie2Data: [],\n      pie2Axis: [],\n      showKeyDate: false,\n      keyDateText: '',\n      hospital_location: [],\n      school_location: [],\n      hospitals: [],\n      schools: [],\n      toiletpapers: [],\n      discriminations: [],\n      cities: [],\n      scale: 'state',\n      showHospital: false,\n      showSchool: false,\n      showHotTopic: false,\n      clearStyle: false,\n      loaded: false,\n      map: null,\n      cases: 0,\n      setOpen: false,\n      opacity: '30%',\n      level: 3,\n      searchText: '',\n      expand: false,\n      lifted: false,\n      visibility: 'hidden'\n    };\n    this.initBorder = this.initBorder.bind(this);\n    this.changeBorder = this.changeBorder.bind(this);\n    this.initHospitalMarkers = this.initHospitalMarkers.bind(this);\n    this.initSchoolMarkers = this.initSchoolMarkers.bind(this);\n    this.initHotTopicMarkers = this.initHotTopicMarkers.bind(this);\n  }\n\n  initBorder(map) {\n    const that = this;\n    Geocode.setApiKey(\"AIzaSyCb8v3J9mTRdgCSEo0unZYWM4HlmppEy7E\");\n    Geocode.setLanguage(\"en\");\n    Geocode.setRegion(\"au\");\n    Geocode.enableDebug(); //map.data.loadGeoJson('https://raw.githubusercontent.com/rowanhogan/australian-states/master/states.geojson')\n    // map.data.loadGeoJson('https://api.jsonbin.io/b/5eab07bf07d49135ba485cfa/5')\n\n    map.data.loadGeoJson('https://data.gov.au/geoserver/vic-state-boundary-psma-administrative-boundaries/wfs?request=GetFeature&typeName=ckan_b90c2a19_d978_4e14_bb15_1114b46464fb&outputFormat=json');\n    map.data.loadGeoJson('https://data.gov.au/geoserver/nsw-state-boundary/wfs?request=GetFeature&typeName=ckan_a1b278b1_59ef_4dea_8468_50eb09967f18&outputFormat=json');\n    map.data.loadGeoJson('https://data.gov.au/geoserver/qld-state-boundary-psma-administrative-boundaries/wfs?request=GetFeature&typeName=ckan_2dbbec1a_99a2_4ee5_8806_53bc41d038a7&outputFormat=json');\n    map.data.loadGeoJson('https://data.gov.au/geoserver/act-state-boundary-psma-administrative-boundaries/wfs?request=GetFeature&typeName=ckan_83468f0c_313d_4354_9592_289554eb2dc9&outputFormat=json');\n    map.data.loadGeoJson('https://data.gov.au/geoserver/wa-state-boundary-psma-administrative-boundaries/wfs?request=GetFeature&typeName=ckan_5c00d495_21ba_452d_ae46_1ad0ca05e41f&outputFormat=json');\n    map.data.loadGeoJson('https://data.gov.au/geoserver/tas-state-boundary/wfs?request=GetFeature&typeName=ckan_cf2ebc53_1633_4c5c_b892_bfc3945d913b&outputFormat=json');\n    map.data.loadGeoJson('https://data.gov.au/geoserver/sa-state-boundary-psma-administrative-boundaries/wfs?request=GetFeature&typeName=ckan_8f996b8c_d939_4757_a231_3fec8cb8e929&outputFormat=json');\n    map.data.loadGeoJson('https://data.gov.au/geoserver/nt-state-boundary-psma-administrative-boundaries/wfs?request=GetFeature&typeName=ckan_5162e11c_3259_4894_8b9e_f44540b6cb11&outputFormat=json');\n    map.data.addListener('mouseover', function (event) {\n      map.data.overrideStyle(event.feature, {\n        fillColor: '#ff8a80',\n        strokeWeight: 8,\n        fillOpacity: 0.6\n      });\n\n      if (map.zoom > 5 && map.getCenter().lat() > -40 && map.getCenter().lat() < -30 && map.getCenter().lng() > 135 && map.getCenter().lng() < 150) {\n        if (that.state.scale === 'state') {\n          that.setState({\n            visibility: 'hidden'\n          });\n          map.data.forEach(function (feature) {\n            map.data.remove(feature);\n          });\n          map.data.loadGeoJson('https://data.gov.au/geoserver/vic-local-government-areas-psma-administrative-boundaries/wfs?request=GetFeature&typeName=ckan_bdf92691_c6fe_42b9_a0e2_a4cd716fa811&outputFormat=json');\n          that.setState({\n            scale: 'suburb'\n          });\n        }\n      } else {\n        if (that.state.scale === 'suburb') {\n          that.setState({\n            visibility: 'hidden'\n          });\n          map.data.forEach(function (feature) {\n            map.data.remove(feature);\n          });\n          map.data.loadGeoJson('https://data.gov.au/geoserver/vic-state-boundary-psma-administrative-boundaries/wfs?request=GetFeature&typeName=ckan_b90c2a19_d978_4e14_bb15_1114b46464fb&outputFormat=json');\n          map.data.loadGeoJson('https://data.gov.au/geoserver/nsw-state-boundary/wfs?request=GetFeature&typeName=ckan_a1b278b1_59ef_4dea_8468_50eb09967f18&outputFormat=json');\n          map.data.loadGeoJson('https://data.gov.au/geoserver/qld-state-boundary-psma-administrative-boundaries/wfs?request=GetFeature&typeName=ckan_2dbbec1a_99a2_4ee5_8806_53bc41d038a7&outputFormat=json');\n          map.data.loadGeoJson('https://data.gov.au/geoserver/act-state-boundary-psma-administrative-boundaries/wfs?request=GetFeature&typeName=ckan_83468f0c_313d_4354_9592_289554eb2dc9&outputFormat=json');\n          map.data.loadGeoJson('https://data.gov.au/geoserver/wa-state-boundary-psma-administrative-boundaries/wfs?request=GetFeature&typeName=ckan_5c00d495_21ba_452d_ae46_1ad0ca05e41f&outputFormat=json');\n          map.data.loadGeoJson('https://data.gov.au/geoserver/tas-state-boundary/wfs?request=GetFeature&typeName=ckan_cf2ebc53_1633_4c5c_b892_bfc3945d913b&outputFormat=json');\n          map.data.loadGeoJson('https://data.gov.au/geoserver/sa-state-boundary-psma-administrative-boundaries/wfs?request=GetFeature&typeName=ckan_8f996b8c_d939_4757_a231_3fec8cb8e929&outputFormat=json');\n          map.data.loadGeoJson('https://data.gov.au/geoserver/nt-state-boundary-psma-administrative-boundaries/wfs?request=GetFeature&typeName=ckan_5162e11c_3259_4894_8b9e_f44540b6cb11&outputFormat=json');\n        }\n\n        that.setState({\n          scale: 'state'\n        });\n      }\n    });\n    map.data.addListener('mouseout', function () {\n      map.data.revertStyle();\n      that.setState({\n        show: \"none\"\n      });\n    });\n    map.data.addListener('click', function (event) {\n      that.setState({\n        locationInfo: {\n          state: searchState3.get(event.feature.getProperty('state_pid')),\n          suburb: event.feature.getProperty('vic_lga__3')\n        }\n      });\n      var cases = 0;\n\n      if (that.state.scale === 'state') {\n        try {\n          cases = that.props.statecases[that.state.dateInfo.str][that.state.locationInfo.state];\n        } catch (e) {}\n      } else {\n        try {\n          cases = that.props.suburbcases[that.state.dateInfo.str][that.state.locationInfo.suburb];\n        } catch (e) {}\n      }\n\n      that.setState({\n        cases: cases\n      });\n\n      if (that.state.scale === 'state') {\n        try {\n          var low = transState.get(that.state.locationInfo.state);\n          var date = strFromDate(that.state.dateInfo.month, that.state.dateInfo.day);\n        } catch (e) {}\n\n        try {\n          that.state.pieAxis.length = 0;\n          that.state.pieData.length = 0;\n          var topic = that.props.statetopic[date][low];\n          topic.map((t, index) => {\n            if (index < 20) {\n              that.setState({\n                pieAxis: [...that.state.pieAxis, t.word]\n              });\n              that.setState({\n                pieData: [...that.state.pieData, t.num]\n              });\n            }\n          });\n        } catch (e) {}\n\n        try {\n          that.state.pie2Axis.length = 0;\n          that.state.pie2Data.length = 0;\n          var emotion = that.props.stateemotion[date][low];\n          console.log(\"print a topic example\" + that.props.stateemotion[date][low][0].num);\n          emotion.map(t => {\n            that.setState({\n              pie2Axis: [...that.state.pie2Axis, t.emotion]\n            });\n            that.setState({\n              pie2Data: [...that.state.pie2Data, t.num]\n            });\n          });\n        } catch (e) {}\n      } else if (that.state.scale === 'suburb') {\n        try {\n          var name = that.state.locationInfo.suburb;\n          var low = name.toLowerCase();\n          var date = strFromDate(that.state.dateInfo.month, that.state.dateInfo.day);\n          var topic = that.props.suburbtopic[date][low];\n          var emotion = that.props.suburbemtion[date][low];\n        } catch (e) {}\n\n        try {\n          that.state.pieAxis.length = 0;\n          that.state.pieData.length = 0;\n          topic.map((t, index) => {\n            if (index < 20) {\n              that.setState({\n                pieAxis: [...that.state.pieAxis, t.word]\n              });\n              that.setState({\n                pieData: [...that.state.pieData, t.num]\n              });\n            }\n          });\n        } catch (e) {}\n\n        try {\n          that.state.pie2Axis.length = 0;\n          that.state.pie2Data.length = 0;\n          emotion.map(t => {\n            that.setState({\n              pie2Axis: [...that.state.pie2Axis, t.emotion]\n            });\n            that.setState({\n              pie2Data: [...that.state.pie2Data, t.num]\n            });\n          });\n        } catch (e) {}\n      }\n\n      that.setState({\n        visibility: 'visible'\n      });\n    });\n    this.changeBorder(map);\n  }\n\n  changeBorder(map) {\n    const that = this;\n    map.data.setStyle(function (feature) {\n      var cases = 0;\n\n      if (that.state.scale === 'state') {\n        try {\n          cases = that.props.statecases[that.state.dateInfo.str][searchState3.get(feature.getProperty('state_pid'))];\n        } catch (e) {}\n      } else if (that.state.scale === 'suburb') {\n        try {\n          cases = that.props.suburbcases[that.state.dateInfo.str][feature.getProperty('vic_lga__3')];\n        } catch (e) {}\n      }\n\n      let color = colorOnConfirmed(cases);\n      return {\n        fillColor: color,\n        strokeWeight: 0.3,\n        strokeOpacity: 0.3,\n        fillOpacity: 0.4\n      };\n    });\n    this.setState({\n      map: map\n    });\n  }\n\n  initCitiesMarkers(map) {\n    location.cities.map(city => {\n      this.state.cities.push(new window.google.maps.Marker({\n        position: city,\n        map: map\n      }));\n    });\n    this.state.map = map;\n  }\n\n  initHotTopicMarkers(map) {\n    location.toiletpapers.map(toiletpaper => {\n      this.state.toiletpapers.push(new window.google.maps.Marker({\n        position: toiletpaper,\n        map: map,\n        animation: window.google.maps.Animation.BOUNCE,\n        icon: toiletpaper_marker\n      }));\n    });\n    this.state.map = map;\n    location.discriminations.map(discrimination => {\n      this.state.discriminations.push(new window.google.maps.Marker({\n        position: discrimination,\n        map: map,\n        animation: window.google.maps.Animation.BOUNCE,\n        icon: discrimination_marker\n      }));\n    });\n    this.state.map = map;\n  }\n\n  initHospitalMarkers(map) {\n    location.hospitals.map(hospital => {\n      this.state.hospitals.push(new window.google.maps.Marker({\n        position: hospital,\n        map: map,\n        icon: hospital_marker\n      }));\n    });\n    this.state.map = map;\n    var markerCluster = new MarkerClusterer(map, this.state.hospitals, {\n      styles: [{\n        width: 16,\n        height: 16,\n        url: 'https://i.imgur.com/pZcCLJn.png'\n      }]\n    });\n    this.state.map = map;\n  }\n\n  initSchoolMarkers(map) {\n    location.schools.map(school => {\n      this.state.schools.push(new window.google.maps.Marker({\n        position: school,\n        map: map,\n        icon: school_marker\n      }));\n    });\n    this.state.map = map;\n    var markerCluster = new MarkerClusterer(map, this.state.schools, {\n      styles: [{\n        width: 16,\n        height: 16,\n        url: 'https://i.imgur.com/SvmeGSC.png'\n      }]\n    });\n    this.state.map = map;\n  }\n\n  render() {\n    const {\n      classes\n    } = this.props; //if(this.state.loaded===true)\n\n    return (\n      /*#__PURE__*/\n      React.createElement(\"div\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 730,\n          columnNumber: 13\n        }\n      },\n      /*#__PURE__*/\n      React.createElement(\"div\", {\n        className: classes.mapContainer,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 731,\n          columnNumber: 17\n        }\n      },\n      /*#__PURE__*/\n      React.createElement(InnerMap, {\n        id: \"map\",\n        options: {\n          center: {\n            lat: -25.5,\n            lng: 133.5\n          },\n          zoom: 5,\n          styles: mapStyles\n        },\n        onMapLoad: map => this.initBorder(map),\n        changeBorder: this.changeBorder,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 732,\n          columnNumber: 21\n        }\n      })),\n      /*#__PURE__*/\n      React.createElement(\"div\", {\n        className: classes.searchPanel,\n        style: {\n          opacity: this.state.opacity\n        },\n        onMouseOver: this.onHoverSearch,\n        onMouseLeave: this.onLeaveSearch,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 738,\n          columnNumber: 17\n        }\n      },\n      /*#__PURE__*/\n      React.createElement(Paper, {\n        elevation: 3,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 739,\n          columnNumber: 21\n        }\n      },\n      /*#__PURE__*/\n      React.createElement(ExpansionPanel, {\n        expanded: this.state.expand,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 740,\n          columnNumber: 25\n        }\n      },\n      /*#__PURE__*/\n      React.createElement(ExpansionPanelSummary, {\n        expandIcon:\n        /*#__PURE__*/\n        React.createElement(ExpandMoreIcon, {\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 742,\n            columnNumber: 45\n          }\n        }),\n        \"aria-controls\": \"panel1c-content\",\n        id: \"panel1c-header\",\n        onMouseOver: this.expandPanel,\n        style: {\n          backgroundColor: '#7268A6'\n        },\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 741,\n          columnNumber: 29\n        }\n      },\n      /*#__PURE__*/\n      React.createElement(\"div\", {\n        className: classes.column,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 748,\n          columnNumber: 33\n        }\n      },\n      /*#__PURE__*/\n      React.createElement(Typography, {\n        className: classes.heading,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 749,\n          columnNumber: 37\n        }\n      }, \"Search\"))),\n      /*#__PURE__*/\n      React.createElement(ExpansionPanelDetails, {\n        className: classes.details,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 752,\n          columnNumber: 29\n        }\n      },\n      /*#__PURE__*/\n      React.createElement(\"div\", {\n        className: classes.column,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 753,\n          columnNumber: 33\n        }\n      },\n      /*#__PURE__*/\n      React.createElement(InputBase, {\n        className: classes.input,\n        placeholder: \"Input area\",\n        onChange: this.handleSearchText,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 754,\n          columnNumber: 37\n        }\n      }))),\n      /*#__PURE__*/\n      React.createElement(Divider, {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 762,\n          columnNumber: 29\n        }\n      }),\n      /*#__PURE__*/\n      React.createElement(ExpansionPanelActions, {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 763,\n          columnNumber: 29\n        }\n      },\n      /*#__PURE__*/\n      React.createElement(IconButton, {\n        type: \"submit\",\n        className: classes.iconButton,\n        \"aria-label\": \"search\",\n        onClick: this.focusSearchArea,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 764,\n          columnNumber: 33\n        }\n      },\n      /*#__PURE__*/\n      React.createElement(SearchIcon, {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 765,\n          columnNumber: 37\n        }\n      })))))), this.state.visibility === 'visible' &&\n      /*#__PURE__*/\n      React.createElement(\"div\", {\n        style: {\n          position: 'absolute',\n          top: '150px',\n          left: '160px'\n        },\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 815,\n          columnNumber: 17\n        }\n      }, this.state.scale === 'state' &&\n      /*#__PURE__*/\n      React.createElement(\"p\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 818,\n          columnNumber: 21\n        }\n      }, \"state: \", this.state.locationInfo.state), this.state.scale === 'suburb' &&\n      /*#__PURE__*/\n      React.createElement(\"p\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 820,\n          columnNumber: 21\n        }\n      }, \"suburb: \", this.state.locationInfo.suburb + \"  \"),\n      /*#__PURE__*/\n      React.createElement(\"p\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 822,\n          columnNumber: 21\n        }\n      }, \"cases: \", this.state.cases + \" \"),\n      /*#__PURE__*/\n      React.createElement(\"div\", {\n        style: {\n          width: '100px',\n          merginTop: \"10px\"\n        },\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 824,\n          columnNumber: 21\n        }\n      }, this.state.pieAxis.length > 0 &&\n      /*#__PURE__*/\n      React.createElement(\"p\", {\n        style: {\n          marginTop: \"25px\",\n          marginBottom: \"-15px\"\n        },\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 826,\n          columnNumber: 25\n        }\n      }, \"hot topics\"), this.state.pieAxis.length > 0 &&\n      /*#__PURE__*/\n      React.createElement(Piechart, {\n        pieAxis: this.state.pieAxis,\n        pieData: this.state.pieData,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 828,\n          columnNumber: 25\n        }\n      }), this.state.pieData.length > 0 &&\n      /*#__PURE__*/\n      React.createElement(\"p\", {\n        style: {\n          marginTop: \"-8px\",\n          marginBottom: \"-15px\"\n        },\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 830,\n          columnNumber: 25\n        }\n      }, \"emotions\"), this.state.pieData.length > 0 &&\n      /*#__PURE__*/\n      React.createElement(Piechart, {\n        pieAxis: this.state.pie2Axis,\n        pieData: this.state.pie2Data,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 832,\n          columnNumber: 25\n        }\n      }))),\n      /*#__PURE__*/\n      React.createElement(\"div\", {\n        style: {\n          display: 'flex',\n          position: 'absolute',\n          bottom: '80px',\n          right: '100px'\n        },\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 838,\n          columnNumber: 17\n        }\n      },\n      /*#__PURE__*/\n      React.createElement(Colorlegend, {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 839,\n          columnNumber: 21\n        }\n      })),\n      /*#__PURE__*/\n      React.createElement(\"div\", {\n        style: {\n          position: 'absolute',\n          bottom: '60px',\n          left: '30px',\n          width: '700px'\n        },\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 865,\n          columnNumber: 17\n        }\n      },\n      /*#__PURE__*/\n      React.createElement(Typography, {\n        style: {\n          color: '#FFFFFF'\n        },\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 867,\n          columnNumber: 21\n        }\n      }, \"Day/Month   \", \"  \" + this.state.dateInfo.day, \"/\", this.state.dateInfo.month),\n      /*#__PURE__*/\n      React.createElement(AirbnbSlider, {\n        getAriaValueText: valuetext,\n        \"aria-labelledby\": \"discrete-slider-always\",\n        ThumbComponent: AirbnbThumbComponent,\n        marks: marks,\n        defaultValue: 0,\n        valueLabelDisplay: \"on\",\n        onChange: this.DateChange,\n        max: 152,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 871,\n          columnNumber: 21\n        }\n      }),\n      /*#__PURE__*/\n      React.createElement(\"div\", {\n        style: {\n          backgroundColor: '#fff'\n        },\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 882,\n          columnNumber: 21\n        }\n      },\n      /*#__PURE__*/\n      React.createElement(Snackbar, {\n        open: this.state.setOpen && !this.state.lifted,\n        autoHideDuration: 6000,\n        onClose: this.handleClose,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 885,\n          columnNumber: 25\n        }\n      },\n      /*#__PURE__*/\n      React.createElement(Alert, {\n        onClose: this.handleClose,\n        severity: \"warning\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 886,\n          columnNumber: 29\n        }\n      }, this.state.keyDateText)),\n      /*#__PURE__*/\n      React.createElement(Snackbar, {\n        open: this.state.setOpen && this.state.lifted,\n        autoHideDuration: 6000,\n        onClose: this.handleClose,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 890,\n          columnNumber: 25\n        }\n      },\n      /*#__PURE__*/\n      React.createElement(Alert, {\n        onClose: this.handleClose,\n        severity: \"success\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 891,\n          columnNumber: 29\n        }\n      }, this.state.keyDateText)))))\n    );\n  }\n\n}\n\nexport default withStyles(styles)(MapContainer);","map":{"version":3,"sources":["E:/github/covid/COVID19_amid_twitter_analysing/src/modules/mapcontainer.jsx"],"names":["React","Component","useState","ReactDOM","ReactDOMServer","Paper","Button","MuiAlert","Snackbar","Checkbox","MarkerClusterer","Colorlegend","stateCaseDate","suburbCaseDate","searchSuburb","searchState","searchState2","colorOnConfirmed","dayFromStr","monthFromStr","dayFromValue","strFromDate","clsx","ExpansionPanel","ExpansionPanelDetails","ExpansionPanelSummary","ExpansionPanelActions","ExpandMoreIcon","Divider","Piechart","IconButton","MenuIcon","SearchIcon","DirectionsIcon","InputBase","mapStyles","InnerMap","location","hospital_marker","school_marker","toiletpaper_marker","discrimination_marker","searchState3","transState","withStyles","makeStyles","Slider","Typography","get","Geocode","styles","theme","map","width","height","mapContainer","boxShadow","searchPanel","position","top","left","heading","fontSize","typography","pxToRem","secondaryHeading","color","palette","text","secondary","icon","verticalAlign","details","alignItems","column","flexBasis","helper","borderLeft","divider","padding","spacing","link","primary","main","textDecoration","input","marginLeft","flex","iconButton","margin","keyDates","value","info","marks","label","AirbnbSlider","root","thumb","backgroundColor","border","marginTop","marginRight","active","track","rail","borderRadius","markLabel","markLabelActive","valueLabel","valuetext","AirbnbThumbComponent","props","Alert","MapContainer","constructor","handleLevel","event","setState","level","target","handleSearchText","searchText","expandPanel","expand","focusSearchArea","state","fromAddress","then","response","lat","lng","results","geometry","setCenter","console","log","error","onHoverSearch","opacity","onLeaveSearch","handleClick","setOpen","handleClose","reason","showKeyDate","lifted","DateChange","dateInfo","month","Math","floor","week","day","str","length","keyDateText","showHotTopic","initHotTopicMarkers","changeBorder","styleChange","clearStyle","checked","data","setStyle","HospitalCheckboxChange","showHospital","initHospitalMarkers","hospitals","hospital","setMap","SchoolCheckboxChange","showSchool","initSchoolMarkers","schools","school","HotTopicCheckboxChange","discriminations","discrimination","toiletpapers","toiletpaper","emotionInfo","positive","middle","negative","locationInfo","suburb","pieAxis","pieData","pie2Data","pie2Axis","hospital_location","school_location","cities","scale","loaded","cases","visibility","initBorder","bind","that","setApiKey","setLanguage","setRegion","enableDebug","loadGeoJson","addListener","overrideStyle","feature","fillColor","strokeWeight","fillOpacity","zoom","getCenter","forEach","remove","revertStyle","show","getProperty","statecases","e","suburbcases","low","date","topic","statetopic","t","index","word","num","emotion","stateemotion","name","toLowerCase","suburbtopic","suburbemtion","strokeOpacity","initCitiesMarkers","city","push","window","google","maps","Marker","animation","Animation","BOUNCE","markerCluster","url","render","classes","center","merginTop","marginBottom","display","bottom","right"],"mappings":"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","sourcesContent":["import React, {Component, useState} from 'react';\r\nimport ReactDOM from \"react-dom\";\r\nimport ReactDOMServer from 'react-dom/server';\r\nimport {Paper, Button} from '@material-ui/core';\r\nimport MuiAlert from '@material-ui/lab/Alert';\r\nimport Snackbar from '@material-ui/core/Snackbar';\r\nimport {Checkbox} from \"@material-ui/core\";\r\nimport 'chart.js'\r\nimport MarkerClusterer from 'node-js-marker-clusterer';\r\nimport Colorlegend from \"./colorlegend\";\r\nimport '../App.css'\r\nimport {stateCaseDate, suburbCaseDate, searchSuburb, searchState, searchState2} from \"../modules/scale\"\r\n\r\nimport {colorOnConfirmed} from '../methods/defineColor'\r\nimport {dayFromStr, monthFromStr, dayFromValue, strFromDate} from '../methods/DateTransfer'\r\nimport clsx from 'clsx';\r\nimport ExpansionPanel from '@material-ui/core/ExpansionPanel';\r\nimport ExpansionPanelDetails from '@material-ui/core/ExpansionPanelDetails';\r\nimport ExpansionPanelSummary from '@material-ui/core/ExpansionPanelSummary';\r\nimport ExpansionPanelActions from '@material-ui/core/ExpansionPanelActions';\r\nimport ExpandMoreIcon from '@material-ui/icons/ExpandMore';\r\nimport Divider from '@material-ui/core/Divider';\r\nimport Piechart from './piechart'\r\nimport IconButton from '@material-ui/core/IconButton';\r\nimport MenuIcon from '@material-ui/icons/Menu';\r\nimport SearchIcon from '@material-ui/icons/Search';\r\nimport DirectionsIcon from '@material-ui/icons/Directions';\r\nimport InputBase from '@material-ui/core/InputBase';\r\nimport mapStyles from '../resources/mapstyle.json';\r\nimport InnerMap from './innermap';\r\nimport * as location from './location'\r\nimport hospital_marker from '../resources/hospital_marker.png'\r\nimport school_marker from '../resources/school_marker.png'\r\nimport toiletpaper_marker from '../resources/toiletpaper_marker.png'\r\nimport discrimination_marker from '../resources/discrimination_marker.png'\r\n\r\nimport {searchState3,transState} from './scale'\r\nimport {withStyles, makeStyles} from '@material-ui/core/styles';\r\nimport Slider from '@material-ui/core/Slider';\r\nimport Typography from '@material-ui/core/Typography';\r\nimport {get} from \"echarts/src/component/toolbox/featureManager\";\r\n\r\nimport Geocode from \"react-geocode\";\r\n\r\n\r\nconst styles = theme => ({\r\n    map: {\r\n        width: '100%',\r\n        height: '100%'\r\n    },\r\n    mapContainer: {\r\n        width: \"100%\",\r\n        height: \"900px\",\r\n        boxShadow: \"0 2px 8px 0 #d7d7d7\"\r\n    },\r\n    searchPanel: {\r\n        position: 'fixed',\r\n        top: '22%',\r\n        left: '82%',\r\n    },\r\n    heading: {\r\n        fontSize: theme.typography.pxToRem(15),\r\n    },\r\n    secondaryHeading: {\r\n        fontSize: theme.typography.pxToRem(15),\r\n        color: theme.palette.text.secondary,\r\n    },\r\n    icon: {\r\n        verticalAlign: 'bottom',\r\n        height: 20,\r\n        width: 20,\r\n    },\r\n    details: {\r\n        alignItems: 'center',\r\n    },\r\n    column: {\r\n        flexBasis: '50.00%',\r\n    },\r\n    helper: {\r\n        borderLeft: `2px solid ${theme.palette.divider}`,\r\n        padding: theme.spacing(1, 2),\r\n    },\r\n    link: {\r\n        color: theme.palette.primary.main,\r\n        textDecoration: 'none',\r\n        '&:hover': {\r\n            textDecoration: 'underline',\r\n        },\r\n    },\r\n    input: {\r\n        marginLeft: theme.spacing(1),\r\n        flex: 1,\r\n    },\r\n    iconButton: {\r\n        padding: 10,\r\n    },\r\n    divider: {\r\n        height: 28,\r\n        margin: 4,\r\n    },\r\n})\r\n\r\n//1.20 人传人确定 1.23 武汉封城 1.31 global emergency declared 2.1澳洲禁止中国 3.7 toilet paper 3.11 europe new epiccentre\r\n//3.15 aus 14-day qarantine for oversea returners 3.20 australia lockdown 3.23 aus cafes shutdown  3.30 victoria stage 3\r\n//5.13 stage 3 eased\r\nconst keyDates = [\r\n    {value: 19, info: \"human-to-human transmission confirmed\"},\r\n    {value: 22, info: \"Wuhan lockdown started\"},\r\n    {value: 30, info: \"global emergency declared\"},\r\n    {value: 31, info: \"travel ban issued for Chinese nationals\"},\r\n    {value: 66, info: \"toilet paper crisis in Australia\"},\r\n    {value: 70, info: \"Europe became new epicentre\"},\r\n    {value: 74, info: \"14-day quarantine needed for returners from overseas\"},\r\n    {value: 79, info: \"Australia closed its borders\"},\r\n    {value: 82, info: \"cafes shutdown\"},\r\n    {value: 133, info: \"stage 3 restrictions in place in Victoria\"},\r\n];\r\n\r\nconst marks = [\r\n    {\r\n        value: 0,\r\n        label: '01/01',\r\n    },\r\n    {\r\n        value: 28,\r\n        label: '29/01',\r\n    },\r\n    {\r\n        value: 59,\r\n        label: '29/02',\r\n    },\r\n    {\r\n        value: 88,\r\n        label: '29/03',\r\n    },\r\n    {\r\n        value: 121,\r\n        label: '01/05',\r\n    },\r\n    {\r\n        value: 133,\r\n        label: '13/05',\r\n    }\r\n];\r\nconst AirbnbSlider = withStyles({\r\n    root: {\r\n        color: 'primary',\r\n        height: 8,\r\n    },\r\n    thumb: {\r\n        height: 27,\r\n        width: 27,\r\n        backgroundColor: '#fff',\r\n        border: '1px solid currentColor',\r\n        marginTop: -12,\r\n        marginLeft: -13,\r\n        boxShadow: '#ebebeb 0px 2px 2px',\r\n        '&:focus, &:hover, &$active': {\r\n            boxShadow: '#ccc 0px 2px 2px 1px',\r\n        },\r\n        '& .bar': {\r\n            // display: inline-block !important;\r\n            height: 9,\r\n            width: 1,\r\n            backgroundColor: 'currentColor',\r\n            marginLeft: 1,\r\n            marginRight: 1,\r\n        },\r\n    },\r\n    active: {},\r\n    track: {\r\n        height: 8,\r\n        //borderRadius: 4,\r\n    },\r\n    rail: {\r\n        height: 8,\r\n        borderRadius: 4,\r\n    },\r\n    markLabel: {\r\n        color: 'grey'\r\n    },\r\n    markLabelActive: {\r\n        color: '#fff'\r\n    },\r\n    valueLabel: {\r\n        left: 'calc(-50% + 4px)',\r\n    },\r\n})(Slider);\r\n\r\nfunction valuetext(value) {\r\n    return `Date: ${value}`;\r\n}\r\n\r\nfunction AirbnbThumbComponent(props) {\r\n    return (\r\n        <span {...props}>\r\n      <span className=\"bar\"/>\r\n      <span className=\"bar\"/>\r\n    </span>\r\n    );\r\n}\r\n\r\nfunction Alert(props) {\r\n    return <MuiAlert elevation={6} variant=\"filled\" {...props} />;\r\n}\r\n\r\nclass MapContainer extends Component {\r\n\r\n    constructor(props) {\r\n        super(props);\r\n        this.state = {\r\n            dateInfo: {\r\n                month: 1,\r\n                week: 1,\r\n                day: 1,\r\n                str:''\r\n            },\r\n            emotionInfo: {\r\n                positive: 0,\r\n                middle: 0,\r\n                negative: 0\r\n            },\r\n            locationInfo: {\r\n                state: '',\r\n                suburb: 'BALLARAT'\r\n            },\r\n\r\n            pieAxis: [],\r\n            pieData: [],\r\n            pie2Data: [],\r\n            pie2Axis: [],\r\n\r\n            showKeyDate: false,\r\n            keyDateText: '',\r\n            hospital_location: [],\r\n            school_location: [],\r\n            hospitals: [],\r\n            schools: [],\r\n            toiletpapers: [],\r\n            discriminations: [],\r\n            cities: [],\r\n            scale: 'state',\r\n            showHospital: false,\r\n            showSchool: false,\r\n            showHotTopic: false,\r\n            clearStyle: false,\r\n            loaded: false,\r\n            map: null,\r\n            cases: 0,\r\n            setOpen: false,\r\n            opacity: '30%',\r\n            level: 3,\r\n            searchText: '',\r\n            expand: false,\r\n            lifted: false,\r\n            visibility: 'hidden'\r\n        };\r\n        this.initBorder = this.initBorder.bind(this)\r\n        this.changeBorder = this.changeBorder.bind(this);\r\n        this.initHospitalMarkers = this.initHospitalMarkers.bind(this);\r\n        this.initSchoolMarkers = this.initSchoolMarkers.bind(this);\r\n        this.initHotTopicMarkers = this.initHotTopicMarkers.bind(this);\r\n    }\r\n\r\n    handleLevel = (event) => {\r\n        this.setState({level: event.target.value});\r\n    }\r\n\r\n    handleSearchText = (event) => {\r\n        this.setState({searchText: event.target.value});\r\n    }\r\n\r\n    expandPanel = () => {\r\n        this.setState({expand: true});\r\n    }\r\n\r\n    focusSearchArea = () => {\r\n        let text = this.state.searchText;\r\n        this.setState({expand: false});\r\n        Geocode.fromAddress(text).then(\r\n            response => {\r\n                const { lat, lng } = response.results[0].geometry.location;\r\n                this.state.map.setCenter({lat, lng});\r\n                console.log(\"lat lng\"+lat+\" \"+lng)\r\n            },\r\n            error => {\r\n                console.error(error);\r\n            }\r\n        );\r\n    }\r\n\r\n    onHoverSearch = () => {\r\n        this.setState({opacity: '100%'});\r\n    }\r\n\r\n    onLeaveSearch = () => {\r\n        this.setState({opacity: '20%'});\r\n        this.setState({expand: false});\r\n    }\r\n\r\n    handleClick = () => {\r\n        this.setState({setOpen: true});\r\n    };\r\n\r\n    handleClose = (event, reason) => {\r\n        if (reason === 'clickaway') {\r\n            return;\r\n        }\r\n        this.setState({setOpen: false});\r\n        this.setState({showKeyDate: false});\r\n        this.setState({lifted: false});\r\n\r\n    };\r\n\r\n    initBorder(map) {\r\n\r\n        const that = this;\r\n\r\n        Geocode.setApiKey(\"AIzaSyCb8v3J9mTRdgCSEo0unZYWM4HlmppEy7E\");\r\n        Geocode.setLanguage(\"en\");\r\n        Geocode.setRegion(\"au\");\r\n        Geocode.enableDebug();\r\n\r\n        //map.data.loadGeoJson('https://raw.githubusercontent.com/rowanhogan/australian-states/master/states.geojson')\r\n\r\n        // map.data.loadGeoJson('https://api.jsonbin.io/b/5eab07bf07d49135ba485cfa/5')\r\n        map.data.loadGeoJson('https://data.gov.au/geoserver/vic-state-boundary-psma-administrative-boundaries/wfs?request=GetFeature&typeName=ckan_b90c2a19_d978_4e14_bb15_1114b46464fb&outputFormat=json')\r\n        map.data.loadGeoJson('https://data.gov.au/geoserver/nsw-state-boundary/wfs?request=GetFeature&typeName=ckan_a1b278b1_59ef_4dea_8468_50eb09967f18&outputFormat=json')\r\n        map.data.loadGeoJson('https://data.gov.au/geoserver/qld-state-boundary-psma-administrative-boundaries/wfs?request=GetFeature&typeName=ckan_2dbbec1a_99a2_4ee5_8806_53bc41d038a7&outputFormat=json')\r\n        map.data.loadGeoJson('https://data.gov.au/geoserver/act-state-boundary-psma-administrative-boundaries/wfs?request=GetFeature&typeName=ckan_83468f0c_313d_4354_9592_289554eb2dc9&outputFormat=json')\r\n        map.data.loadGeoJson('https://data.gov.au/geoserver/wa-state-boundary-psma-administrative-boundaries/wfs?request=GetFeature&typeName=ckan_5c00d495_21ba_452d_ae46_1ad0ca05e41f&outputFormat=json')\r\n        map.data.loadGeoJson('https://data.gov.au/geoserver/tas-state-boundary/wfs?request=GetFeature&typeName=ckan_cf2ebc53_1633_4c5c_b892_bfc3945d913b&outputFormat=json')\r\n        map.data.loadGeoJson('https://data.gov.au/geoserver/sa-state-boundary-psma-administrative-boundaries/wfs?request=GetFeature&typeName=ckan_8f996b8c_d939_4757_a231_3fec8cb8e929&outputFormat=json')\r\n        map.data.loadGeoJson('https://data.gov.au/geoserver/nt-state-boundary-psma-administrative-boundaries/wfs?request=GetFeature&typeName=ckan_5162e11c_3259_4894_8b9e_f44540b6cb11&outputFormat=json')\r\n\r\n        map.data.addListener('mouseover', function (event) {\r\n            map.data.overrideStyle(event.feature, {\r\n                fillColor: '#ff8a80',\r\n                strokeWeight: 8,\r\n                fillOpacity: 0.6\r\n            });\r\n            if(map.zoom>5 && (map.getCenter().lat()>-40&&map.getCenter().lat()<-30)&&(map.getCenter().lng()>135&&map.getCenter().lng()<150)) {\r\n                if(that.state.scale==='state'){\r\n\r\n\r\n                    that.setState({visibility:'hidden'})\r\n                map.data.forEach(function(feature) {\r\n                    map.data.remove(feature);\r\n                });\r\n                map.data.loadGeoJson('https://data.gov.au/geoserver/vic-local-government-areas-psma-administrative-boundaries/wfs?request=GetFeature&typeName=ckan_bdf92691_c6fe_42b9_a0e2_a4cd716fa811&outputFormat=json')\r\n                that.setState({scale:'suburb'})\r\n                }\r\n            }\r\n            else{\r\n                if(that.state.scale==='suburb')\r\n                {\r\n\r\n                    that.setState({visibility:'hidden'})\r\n                    map.data.forEach(function(feature) {\r\n                        map.data.remove(feature);\r\n                    });\r\n                    map.data.loadGeoJson('https://data.gov.au/geoserver/vic-state-boundary-psma-administrative-boundaries/wfs?request=GetFeature&typeName=ckan_b90c2a19_d978_4e14_bb15_1114b46464fb&outputFormat=json')\r\n                    map.data.loadGeoJson('https://data.gov.au/geoserver/nsw-state-boundary/wfs?request=GetFeature&typeName=ckan_a1b278b1_59ef_4dea_8468_50eb09967f18&outputFormat=json')\r\n                    map.data.loadGeoJson('https://data.gov.au/geoserver/qld-state-boundary-psma-administrative-boundaries/wfs?request=GetFeature&typeName=ckan_2dbbec1a_99a2_4ee5_8806_53bc41d038a7&outputFormat=json')\r\n                    map.data.loadGeoJson('https://data.gov.au/geoserver/act-state-boundary-psma-administrative-boundaries/wfs?request=GetFeature&typeName=ckan_83468f0c_313d_4354_9592_289554eb2dc9&outputFormat=json')\r\n                    map.data.loadGeoJson('https://data.gov.au/geoserver/wa-state-boundary-psma-administrative-boundaries/wfs?request=GetFeature&typeName=ckan_5c00d495_21ba_452d_ae46_1ad0ca05e41f&outputFormat=json')\r\n                    map.data.loadGeoJson('https://data.gov.au/geoserver/tas-state-boundary/wfs?request=GetFeature&typeName=ckan_cf2ebc53_1633_4c5c_b892_bfc3945d913b&outputFormat=json')\r\n                    map.data.loadGeoJson('https://data.gov.au/geoserver/sa-state-boundary-psma-administrative-boundaries/wfs?request=GetFeature&typeName=ckan_8f996b8c_d939_4757_a231_3fec8cb8e929&outputFormat=json')\r\n                    map.data.loadGeoJson('https://data.gov.au/geoserver/nt-state-boundary-psma-administrative-boundaries/wfs?request=GetFeature&typeName=ckan_5162e11c_3259_4894_8b9e_f44540b6cb11&outputFormat=json')\r\n                }\r\n                that.setState({scale:'state'})\r\n            }\r\n\r\n        });\r\n\r\n\r\n            map.data.addListener('mouseout', function () {\r\n                map.data.revertStyle();\r\n                that.setState({show: \"none\"});\r\n            });\r\n\r\n            map.data.addListener('click', function (event) {\r\n\r\n                that.setState({\r\n                    locationInfo: {\r\n                        state: searchState3.get(event.feature.getProperty('state_pid')),\r\n                        suburb: event.feature.getProperty('vic_lga__3')\r\n                    }\r\n                })\r\n\r\n                var cases = 0\r\n\r\n                if (that.state.scale === 'state') {\r\n                    try {\r\n                        cases=that.props.statecases[that.state.dateInfo.str][that.state.locationInfo.state]\r\n                    } catch (e) {\r\n                    }\r\n                } else {\r\n                    try {\r\n                        cases=that.props.suburbcases[that.state.dateInfo.str][that.state.locationInfo.suburb]\r\n                    } catch (e) {\r\n\r\n                    }\r\n                }\r\n                that.setState({cases: cases})\r\n\r\n\r\n                if(that.state.scale==='state') {\r\n                    try {\r\n                        var low = transState.get(that.state.locationInfo.state)\r\n                        var date = strFromDate(that.state.dateInfo.month, that.state.dateInfo.day)\r\n\r\n                    } catch (e) {\r\n\r\n                    }\r\n\r\n                    try {\r\n                        that.state.pieAxis.length = 0\r\n                        that.state.pieData.length = 0\r\n\r\n                        var topic = that.props.statetopic[date][low]\r\n\r\n                        topic.map(\r\n                            (t, index) => {\r\n                                if (index < 20) {\r\n                                    that.setState({pieAxis: [...that.state.pieAxis, t.word]})\r\n                                    that.setState({pieData: [...that.state.pieData, t.num]})\r\n                                }\r\n                            }\r\n                        )\r\n                    } catch (e) {\r\n\r\n                    }\r\n\r\n                    try {\r\n                        that.state.pie2Axis.length = 0\r\n                        that.state.pie2Data.length = 0\r\n\r\n                        var emotion = that.props.stateemotion[date][low]\r\n                        console.log(\"print a topic example\" + that.props.stateemotion[date][low][0].num)\r\n\r\n\r\n                        emotion.map(\r\n                            (t) => {\r\n                                that.setState({pie2Axis: [...that.state.pie2Axis, t.emotion]})\r\n                                that.setState({pie2Data: [...that.state.pie2Data, t.num]})\r\n\r\n                            }\r\n                        )\r\n                    } catch (e) {\r\n\r\n                    }\r\n\r\n                }\r\n\r\n                else if(that.state.scale==='suburb') {\r\n                    try {\r\n\r\n                        var name = that.state.locationInfo.suburb\r\n                        var low = name.toLowerCase()\r\n                        var date = strFromDate(that.state.dateInfo.month, that.state.dateInfo.day)\r\n\r\n                        var topic = that.props.suburbtopic[date][low]\r\n                        var emotion = that.props.suburbemtion[date][low]\r\n\r\n                    } catch (e) {\r\n\r\n                    }\r\n\r\n                    try {\r\n                        that.state.pieAxis.length = 0\r\n                        that.state.pieData.length = 0\r\n\r\n                        topic.map(\r\n                            (t, index) => {\r\n                                if (index < 20) {\r\n                                    that.setState({pieAxis: [...that.state.pieAxis, t.word]})\r\n                                    that.setState({pieData: [...that.state.pieData, t.num]})\r\n                                }\r\n                            }\r\n                        )\r\n                    } catch (e) {\r\n\r\n                    }\r\n\r\n                    try {\r\n                        that.state.pie2Axis.length = 0\r\n                        that.state.pie2Data.length = 0\r\n\r\n                        emotion.map(\r\n                            (t) => {\r\n\r\n                                that.setState({pie2Axis: [...that.state.pie2Axis, t.emotion]})\r\n                                that.setState({pie2Data: [...that.state.pie2Data, t.num]})\r\n\r\n                            }\r\n                        )\r\n                    } catch (e) {\r\n\r\n                    }\r\n\r\n                }\r\n                that.setState({visibility:'visible'})\r\n            });\r\n\r\n        this.changeBorder(map)\r\n\r\n    }\r\n\r\n    changeBorder(map) {\r\n\r\n        const that = this;\r\n\r\n        map.data.setStyle(function (feature) {\r\n\r\n            var cases = 0\r\n            if (that.state.scale === 'state') {\r\n\r\n                try {\r\n                    cases=that.props.statecases[that.state.dateInfo.str][searchState3.get(feature.getProperty('state_pid'))]\r\n                } catch (e) {\r\n\r\n                }\r\n\r\n            } else if (that.state.scale === 'suburb') {\r\n\r\n                try {\r\n                    cases=that.props.suburbcases[that.state.dateInfo.str][feature.getProperty('vic_lga__3')]\r\n                } catch (e) {\r\n\r\n                }\r\n            }\r\n\r\n            let color = colorOnConfirmed(cases);\r\n\r\n            return {\r\n                fillColor: color,\r\n                strokeWeight: 0.3,\r\n                strokeOpacity: 0.3,\r\n                fillOpacity: 0.4,\r\n            };\r\n        });\r\n\r\n        this.setState({map: map})\r\n\r\n    }\r\n\r\n    initCitiesMarkers(map) {\r\n\r\n        location.cities.map(city => {\r\n            this.state.cities.push(new window.google.maps.Marker({\r\n                position: city,\r\n                map: map,\r\n            }))\r\n        })\r\n        this.state.map = map;\r\n\r\n    }\r\n\r\n    initHotTopicMarkers(map) {\r\n\r\n        location.toiletpapers.map(toiletpaper => {\r\n            this.state.toiletpapers.push(new window.google.maps.Marker({\r\n                position: toiletpaper,\r\n                map: map,\r\n                animation: window.google.maps.Animation.BOUNCE,\r\n                icon: toiletpaper_marker\r\n            }))\r\n        })\r\n        this.state.map = map\r\n        location.discriminations.map(discrimination => {\r\n            this.state.discriminations.push(new window.google.maps.Marker({\r\n                position: discrimination,\r\n                map: map,\r\n                animation: window.google.maps.Animation.BOUNCE,\r\n                icon: discrimination_marker\r\n            }))\r\n        })\r\n        this.state.map = map\r\n    }\r\n\r\n    initHospitalMarkers(map) {\r\n\r\n        location.hospitals.map(hospital => {\r\n            this.state.hospitals.push(new window.google.maps.Marker({\r\n                position: hospital,\r\n                map: map,\r\n                icon: hospital_marker\r\n            }))\r\n        })\r\n        this.state.map = map;\r\n\r\n        var markerCluster = new MarkerClusterer(map, this.state.hospitals, {\r\n                styles: [{\r\n                    width: 16,\r\n                    height: 16,\r\n                    url: 'https://i.imgur.com/pZcCLJn.png',\r\n                }],\r\n            },\r\n        );\r\n\r\n        this.state.map = map;\r\n\r\n    }\r\n\r\n    initSchoolMarkers(map) {\r\n        location.schools.map(school => {\r\n            this.state.schools.push(new window.google.maps.Marker({\r\n                position: school,\r\n                map: map,\r\n                icon: school_marker\r\n            }))\r\n        })\r\n        this.state.map = map;\r\n\r\n        var markerCluster = new MarkerClusterer(map, this.state.schools, {\r\n                styles: [{\r\n                    width: 16,\r\n                    height: 16,\r\n                    url: 'https://i.imgur.com/SvmeGSC.png',\r\n                }],\r\n            },\r\n        );\r\n\r\n        this.state.map = map;\r\n\r\n    }\r\n\r\n    DateChange = (event, value) => {\r\n\r\n        this.setState({\r\n            dateInfo: {\r\n                month: Math.floor(value / 30) + 1,\r\n                week: Math.floor(value / 7) + 1,\r\n                day: dayFromValue(value),\r\n                str: strFromDate(Math.floor(value / 30) + 1, dayFromValue(value))\r\n            }\r\n        });\r\n\r\n        for (let day = 0; day < keyDates.length; day++) {\r\n            if (keyDates[day].value === value) {\r\n                this.handleClick();\r\n                this.setState({showKeyDate: true, keyDateText: keyDates[day].info});\r\n                if (value === 120) {\r\n                    this.setState({lifted: true});\r\n                }\r\n            }\r\n        }\r\n        if (this.state.showHotTopic)\r\n            this.initHotTopicMarkers(this.state.map);\r\n\r\n        this.changeBorder(this.state.map)\r\n\r\n        /*        if (value === 4)\r\n                        this.state.toiletpapers.map(toiletpaper => toiletpaper.setMap(null))\r\n                else if (value === 3)\r\n                        this.state.discriminations.map(discrimination => discrimination.setMap(null))\r\n                   else if (value === 1 || value === 2)\r\n                    {\r\n                        this.state.toiletpapers.map(toiletpaper => toiletpaper.setMap(null))\r\n                        this.state.discriminations.map(discrimination => discrimination.setMap(null))\r\n                    }*/\r\n\r\n    };\r\n\r\n    styleChange = (event) => {\r\n        if (this.state.clearStyle)\r\n            this.setState({clearStyle: false})\r\n        else\r\n            this.setState({clearStyle: true})\r\n        if (event.target.checked) {\r\n            this.state.map.data.setStyle({})\r\n        }\r\n\r\n    }\r\n\r\n    HospitalCheckboxChange = (event) => {\r\n\r\n        if (this.state.showHospital)\r\n            this.setState({showHospital: false});\r\n        else\r\n            this.setState({showHospital: true});\r\n        if (event.target.checked)\r\n            this.initHospitalMarkers(this.state.map);\r\n        else\r\n            this.state.hospitals.map(hospital => hospital.setMap(null))\r\n\r\n    };\r\n\r\n    SchoolCheckboxChange = (event) => {\r\n\r\n        if (this.state.showSchool)\r\n            this.setState({showSchool: false});\r\n        else\r\n            this.setState({showSchool: true});\r\n        if (event.target.checked)\r\n            this.initSchoolMarkers(this.state.map);\r\n        else\r\n            this.state.schools.map(school => school.setMap(null))\r\n\r\n    };\r\n\r\n    HotTopicCheckboxChange = (event) => {\r\n\r\n        if (this.state.showHotTopic)\r\n            this.setState({showHotTopic: false});\r\n        else\r\n            this.setState({showHotTopic: true});\r\n        if (event.target.checked) {\r\n            if (this.state.month === 3 || this.state.month === 4)\r\n                this.initHotTopicMarkers(this.state.map);\r\n            if (this.state.month === 3)\r\n                this.state.discriminations.map(discrimination => discrimination.setMap(null))\r\n            else if (this.state.month === 4)\r\n                this.state.toiletpapers.map(toiletpaper => toiletpaper.setMap(null))\r\n        } else {\r\n            this.state.toiletpapers.map(toiletpaper => toiletpaper.setMap(null))\r\n            this.state.discriminations.map(discrimination => discrimination.setMap(null))\r\n        }\r\n        console.log(\"toilet paper\" + this.state.toiletpapers)\r\n\r\n    };\r\n\r\n    render() {\r\n        const {classes} = this.props;\r\n\r\n        //if(this.state.loaded===true)\r\n\r\n        return (\r\n            <div>\r\n                <div className={classes.mapContainer}>\r\n                    < InnerMap id=\"map\"\r\n                               options={{center: {lat: -25.5, lng: 133.5}, zoom: 5, styles: mapStyles}}\r\n                               onMapLoad={(map) => this.initBorder(map)\r\n                               } changeBorder={this.changeBorder}/>\r\n\r\n                </div>\r\n                <div className={classes.searchPanel} style={{opacity: this.state.opacity}} onMouseOver={this.onHoverSearch} onMouseLeave={this.onLeaveSearch}>\r\n                    <Paper elevation={3} >\r\n                        <ExpansionPanel expanded={this.state.expand}>\r\n                            <ExpansionPanelSummary\r\n                                expandIcon={<ExpandMoreIcon />}\r\n                                aria-controls=\"panel1c-content\"\r\n                                id=\"panel1c-header\"\r\n                                onMouseOver={this.expandPanel}\r\n                                style={{backgroundColor:'#7268A6'}}\r\n                            >\r\n                                <div className={classes.column}>\r\n                                    <Typography className={classes.heading}>Search</Typography>\r\n                                </div>\r\n                            </ExpansionPanelSummary>\r\n                            <ExpansionPanelDetails className={classes.details}>\r\n                                <div className={classes.column}>\r\n                                    <InputBase\r\n                                        className={classes.input}\r\n                                        placeholder=\"Input area\"\r\n                                        onChange={this.handleSearchText}\r\n                                    />\r\n\r\n                                </div>\r\n                            </ExpansionPanelDetails>\r\n                            <Divider />\r\n                            <ExpansionPanelActions>\r\n                                <IconButton type=\"submit\" className={classes.iconButton} aria-label=\"search\" onClick={this.focusSearchArea}>\r\n                                    <SearchIcon />\r\n                                </IconButton>\r\n                            </ExpansionPanelActions>\r\n                        </ExpansionPanel>\r\n                    </Paper>\r\n                </div>\r\n                {/*                          <div style={{display:'flex', position: 'absolute',bottom: '220px', left: '20px'}}>\r\n                                <Checkbox\r\n                                    checked={this.state.clearStyle}\r\n                                    onChange={this.styleChange}\r\n                                />\r\n                                <p style={{color:'#FFFFFF'}}>\r\n                                    Covid cases\r\n                                </p>\r\n                            </div>*/}\r\n\r\n                {/*                            <div style={{display:'flex', position: 'absolute',bottom: '180px', left: '20px'}}>\r\n                                <Checkbox\r\n                                    checked={this.state.showHotTopic}\r\n                                    onChange={this.HotTopicCheckboxChange}\r\n                                />\r\n                                <p style={{color:'#FFFFFF'}}>\r\n                                    HotTopic\r\n                                </p>\r\n                            </div>\r\n\r\n                            <div style={{display:'flex', position: 'absolute',bottom: '140px', left: '20px'}}>\r\n                                <Checkbox\r\n                                    checked={this.state.showHospital}\r\n                                    onChange={this.HospitalCheckboxChange}\r\n                                />\r\n                                <p style={{color:'#FFFFFF'}}>\r\n                                    Hospital\r\n                                </p>\r\n                            </div>\r\n\r\n                            <div style={{display:'flex', position: 'absolute',bottom: '100px', left: '20px'}}>\r\n                                <Checkbox\r\n                                    checked={this.state.showSchool}\r\n                                    onChange={this.SchoolCheckboxChange}\r\n                                />\r\n                                <p style={{color:'#FFFFFF'}}>\r\n                                    School\r\n                                </p>\r\n                            </div>*/}\r\n\r\n                {/*\r\n                            <div style={{width:\"150px\", height:\"50px\", display:this.state.show,position: 'absolute',bottom:this.state.bottom, left: this.state.left}}>\r\n*/}\r\n                {this.state.visibility === 'visible' &&\r\n                <div style={{position: 'absolute', top: '150px', left: '160px'}}>\r\n\r\n                    {this.state.scale === 'state' &&\r\n                    <p>state: {this.state.locationInfo.state}</p>}\r\n                    {this.state.scale === 'suburb' &&\r\n                    <p>suburb: {this.state.locationInfo.suburb + \"  \"}</p>}\r\n\r\n                    <p>cases: {this.state.cases + \" \"}</p>\r\n\r\n                    <div style={{width: '100px', merginTop: \"10px\"}}>\r\n                        {this.state.pieAxis.length > 0 &&\r\n                        <p style={{marginTop: \"25px\", marginBottom: \"-15px\"}}>hot topics</p>}\r\n                        {this.state.pieAxis.length > 0&&\r\n                        <Piechart pieAxis={this.state.pieAxis} pieData={this.state.pieData}/>}\r\n                        {this.state.pieData.length > 0 &&\r\n                        <p style={{marginTop: \"-8px\", marginBottom: \"-15px\"}}>emotions</p>}\r\n                        {this.state.pieData.length > 0 &&\r\n                        <Piechart pieAxis={this.state.pie2Axis} pieData={this.state.pie2Data}/>}\r\n                    </div>\r\n\r\n                </div>\r\n                }\r\n\r\n                < div style={{display: 'flex', position: 'absolute', bottom: '80px', right: '100px'}}>\r\n                    <Colorlegend/>\r\n                    </div>\r\n\r\n\r\n                {/* <FormControl>\r\n                                <InputLabel shrink id=\"demo-simple-select-placeholder-label-label\">\r\n                                    Area\r\n                                </InputLabel>\r\n                                <Select\r\n                                    labelId=\"demo-simple-select-placeholder-label-label\"\r\n                                    id=\"demo-simple-select-placeholder-label\"\r\n                                    value={area}\r\n                                    onChange={handleSelectChange}\r\n                                    displayEmpty\r\n                                    className={classes.selectEmpty}\r\n                                >\r\n                                    <MenuItem value=\"\">\r\n                                        <em>State</em>\r\n                                    </MenuItem>\r\n                                    <MenuItem value={10}>Suburb</MenuItem>\r\n                                    <MenuItem value={20}>Cities</MenuItem>\r\n                                </Select>\r\n                                <FormHelperText>Area Select</FormHelperText>\r\n                            </FormControl>*/}\r\n\r\n\r\n                <div style={{position: 'absolute', bottom: '60px', left: '30px', width: '700px'}}>\r\n\r\n                    <Typography style={{color: '#FFFFFF'}}>\r\n                        Day/Month   {\"  \"+this.state.dateInfo.day}/{this.state.dateInfo.month}\r\n                    </Typography>\r\n\r\n                    <AirbnbSlider\r\n                        getAriaValueText={valuetext}\r\n                        aria-labelledby=\"discrete-slider-always\"\r\n                        ThumbComponent={AirbnbThumbComponent}\r\n                        marks={marks}\r\n                        defaultValue={0}\r\n                        valueLabelDisplay=\"on\"\r\n                        onChange={this.DateChange}\r\n                        max={152}\r\n                    />\r\n\r\n                    <div style={{\r\n                        backgroundColor: '#fff'\r\n                    }}>\r\n                        <Snackbar open={this.state.setOpen && !this.state.lifted} autoHideDuration={6000} onClose={this.handleClose}>\r\n                            <Alert onClose={this.handleClose} severity=\"warning\">\r\n                                {this.state.keyDateText}\r\n                            </Alert>\r\n                        </Snackbar>\r\n                        <Snackbar open={this.state.setOpen && this.state.lifted} autoHideDuration={6000} onClose={this.handleClose}>\r\n                            <Alert onClose={this.handleClose} severity=\"success\">\r\n                                {this.state.keyDateText}\r\n                            </Alert>\r\n                        </Snackbar>\r\n                    </div>\r\n                </div>\r\n\r\n\r\n            </div>\r\n        )\r\n    }\r\n\r\n\r\n}\r\n\r\nexport default withStyles(styles)(MapContainer);\r\n"]},"metadata":{},"sourceType":"module"}